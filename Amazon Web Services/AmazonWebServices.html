<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol.lst-kix_rcqjus8673fk-3{list-style-type:none}.lst-kix_uh6lb8ke6v0-5>li:before{content:"" counter(lst-ctn-kix_uh6lb8ke6v0-5,lower-roman) ". "}ol.lst-kix_rcqjus8673fk-2{list-style-type:none}ol.lst-kix_rcqjus8673fk-1{list-style-type:none}ol.lst-kix_rcqjus8673fk-0{list-style-type:none}ol.lst-kix_rcqjus8673fk-7{list-style-type:none}.lst-kix_uh6lb8ke6v0-3>li:before{content:"" counter(lst-ctn-kix_uh6lb8ke6v0-3,decimal) ". "}.lst-kix_uh6lb8ke6v0-7>li:before{content:"" counter(lst-ctn-kix_uh6lb8ke6v0-7,lower-latin) ". "}ol.lst-kix_rcqjus8673fk-6{list-style-type:none}ol.lst-kix_rcqjus8673fk-5{list-style-type:none}.lst-kix_uh6lb8ke6v0-4>li:before{content:"" counter(lst-ctn-kix_uh6lb8ke6v0-4,lower-latin) ". "}.lst-kix_uh6lb8ke6v0-8>li:before{content:"" counter(lst-ctn-kix_uh6lb8ke6v0-8,lower-roman) ". "}ol.lst-kix_rcqjus8673fk-4{list-style-type:none}.lst-kix_pjrhe3gihtpz-1>li{counter-increment:lst-ctn-kix_pjrhe3gihtpz-1}ol.lst-kix_pjrhe3gihtpz-1.start{counter-reset:lst-ctn-kix_pjrhe3gihtpz-1 0}ol.lst-kix_ps5z6qbk3wcp-0.start{counter-reset:lst-ctn-kix_ps5z6qbk3wcp-0 0}ol.lst-kix_rcqjus8673fk-8{list-style-type:none}ol.lst-kix_ujwonb17l0vf-6.start{counter-reset:lst-ctn-kix_ujwonb17l0vf-6 0}.lst-kix_uh6lb8ke6v0-6>li:before{content:"" counter(lst-ctn-kix_uh6lb8ke6v0-6,decimal) ". "}.lst-kix_ps5z6qbk3wcp-8>li:before{content:"" counter(lst-ctn-kix_ps5z6qbk3wcp-8,lower-roman) ". "}.lst-kix_uh6lb8ke6v0-3>li{counter-increment:lst-ctn-kix_uh6lb8ke6v0-3}.lst-kix_ps5z6qbk3wcp-8>li{counter-increment:lst-ctn-kix_ps5z6qbk3wcp-8}.lst-kix_ps5z6qbk3wcp-7>li:before{content:"" counter(lst-ctn-kix_ps5z6qbk3wcp-7,lower-latin) ". "}ol.lst-kix_rcqjus8673fk-8.start{counter-reset:lst-ctn-kix_rcqjus8673fk-8 0}.lst-kix_pmi4f1h2f9l1-4>li{counter-increment:lst-ctn-kix_pmi4f1h2f9l1-4}.lst-kix_rcqjus8673fk-5>li{counter-increment:lst-ctn-kix_rcqjus8673fk-5}.lst-kix_ps5z6qbk3wcp-0>li:before{content:"" counter(lst-ctn-kix_ps5z6qbk3wcp-0,decimal) ". "}.lst-kix_ps5z6qbk3wcp-1>li:before{content:"" counter(lst-ctn-kix_ps5z6qbk3wcp-1,lower-latin) ". "}.lst-kix_uh6lb8ke6v0-5>li{counter-increment:lst-ctn-kix_uh6lb8ke6v0-5}.lst-kix_ps5z6qbk3wcp-3>li:before{content:"" counter(lst-ctn-kix_ps5z6qbk3wcp-3,decimal) ". "}ol.lst-kix_ujwonb17l0vf-0.start{counter-reset:lst-ctn-kix_ujwonb17l0vf-0 0}ol.lst-kix_pmi4f1h2f9l1-7.start{counter-reset:lst-ctn-kix_pmi4f1h2f9l1-7 0}.lst-kix_ps5z6qbk3wcp-4>li:before{content:"" counter(lst-ctn-kix_ps5z6qbk3wcp-4,lower-latin) ". "}.lst-kix_ps5z6qbk3wcp-5>li:before{content:"" counter(lst-ctn-kix_ps5z6qbk3wcp-5,lower-roman) ". "}.lst-kix_ujwonb17l0vf-4>li{counter-increment:lst-ctn-kix_ujwonb17l0vf-4}.lst-kix_rcqjus8673fk-7>li{counter-increment:lst-ctn-kix_rcqjus8673fk-7}.lst-kix_pmi4f1h2f9l1-1>li:before{content:"" counter(lst-ctn-kix_pmi4f1h2f9l1-1,lower-latin) ". "}.lst-kix_ps5z6qbk3wcp-6>li:before{content:"" counter(lst-ctn-kix_ps5z6qbk3wcp-6,decimal) ". "}.lst-kix_pmi4f1h2f9l1-0>li:before{content:"" counter(lst-ctn-kix_pmi4f1h2f9l1-0,decimal) ". "}ol.lst-kix_1x8fjtjh2wx-4{list-style-type:none}ol.lst-kix_1x8fjtjh2wx-3{list-style-type:none}ol.lst-kix_rcqjus8673fk-2.start{counter-reset:lst-ctn-kix_rcqjus8673fk-2 0}.lst-kix_pmi4f1h2f9l1-2>li{counter-increment:lst-ctn-kix_pmi4f1h2f9l1-2}ol.lst-kix_1x8fjtjh2wx-2{list-style-type:none}.lst-kix_pmi4f1h2f9l1-5>li:before{content:"" counter(lst-ctn-kix_pmi4f1h2f9l1-5,lower-roman) ". "}.lst-kix_pmi4f1h2f9l1-7>li:before{content:"" counter(lst-ctn-kix_pmi4f1h2f9l1-7,lower-latin) ". "}ol.lst-kix_1x8fjtjh2wx-1{list-style-type:none}ol.lst-kix_1x8fjtjh2wx-0{list-style-type:none}.lst-kix_pmi4f1h2f9l1-2>li:before{content:"" counter(lst-ctn-kix_pmi4f1h2f9l1-2,lower-roman) ". "}.lst-kix_pmi4f1h2f9l1-6>li:before{content:"" counter(lst-ctn-kix_pmi4f1h2f9l1-6,decimal) ". "}.lst-kix_1x8fjtjh2wx-7>li{counter-increment:lst-ctn-kix_1x8fjtjh2wx-7}ol.lst-kix_pjrhe3gihtpz-7.start{counter-reset:lst-ctn-kix_pjrhe3gihtpz-7 0}.lst-kix_pmi4f1h2f9l1-3>li:before{content:"" counter(lst-ctn-kix_pmi4f1h2f9l1-3,decimal) ". "}ol.lst-kix_1x8fjtjh2wx-8{list-style-type:none}.lst-kix_ps5z6qbk3wcp-2>li:before{content:"" counter(lst-ctn-kix_ps5z6qbk3wcp-2,lower-roman) ". "}ol.lst-kix_1x8fjtjh2wx-7{list-style-type:none}ol.lst-kix_1x8fjtjh2wx-6{list-style-type:none}ol.lst-kix_pmi4f1h2f9l1-1.start{counter-reset:lst-ctn-kix_pmi4f1h2f9l1-1 0}.lst-kix_pmi4f1h2f9l1-4>li:before{content:"" counter(lst-ctn-kix_pmi4f1h2f9l1-4,lower-latin) ". "}ol.lst-kix_1x8fjtjh2wx-4.start{counter-reset:lst-ctn-kix_1x8fjtjh2wx-4 0}ol.lst-kix_1x8fjtjh2wx-5{list-style-type:none}ol.lst-kix_uh6lb8ke6v0-3.start{counter-reset:lst-ctn-kix_uh6lb8ke6v0-3 0}.lst-kix_10lhdzcwy36y-7>li:before{content:"-  "}.lst-kix_ujwonb17l0vf-0>li{counter-increment:lst-ctn-kix_ujwonb17l0vf-0}.lst-kix_rcqjus8673fk-3>li{counter-increment:lst-ctn-kix_rcqjus8673fk-3}.lst-kix_ujwonb17l0vf-6>li{counter-increment:lst-ctn-kix_ujwonb17l0vf-6}ol.lst-kix_pjrhe3gihtpz-6.start{counter-reset:lst-ctn-kix_pjrhe3gihtpz-6 0}.lst-kix_10lhdzcwy36y-5>li:before{content:"-  "}.lst-kix_10lhdzcwy36y-8>li:before{content:"-  "}ul.lst-kix_5ppl16h0m2hk-3{list-style-type:none}ul.lst-kix_5ppl16h0m2hk-4{list-style-type:none}ul.lst-kix_5ppl16h0m2hk-1{list-style-type:none}ul.lst-kix_5ppl16h0m2hk-2{list-style-type:none}ul.lst-kix_5ppl16h0m2hk-0{list-style-type:none}.lst-kix_10lhdzcwy36y-6>li:before{content:"-  "}ol.lst-kix_ps5z6qbk3wcp-5.start{counter-reset:lst-ctn-kix_ps5z6qbk3wcp-5 0}ol.lst-kix_ujwonb17l0vf-1.start{counter-reset:lst-ctn-kix_ujwonb17l0vf-1 0}.lst-kix_pmi4f1h2f9l1-8>li:before{content:"" counter(lst-ctn-kix_pmi4f1h2f9l1-8,lower-roman) ". "}.lst-kix_pmi4f1h2f9l1-8>li{counter-increment:lst-ctn-kix_pmi4f1h2f9l1-8}.lst-kix_10lhdzcwy36y-0>li:before{content:"-  "}ul.lst-kix_5ppl16h0m2hk-7{list-style-type:none}ul.lst-kix_5ppl16h0m2hk-8{list-style-type:none}.lst-kix_10lhdzcwy36y-1>li:before{content:"-  "}ul.lst-kix_5ppl16h0m2hk-5{list-style-type:none}.lst-kix_1x8fjtjh2wx-5>li{counter-increment:lst-ctn-kix_1x8fjtjh2wx-5}ul.lst-kix_5ppl16h0m2hk-6{list-style-type:none}.lst-kix_10lhdzcwy36y-3>li:before{content:"-  "}.lst-kix_10lhdzcwy36y-4>li:before{content:"-  "}.lst-kix_10lhdzcwy36y-2>li:before{content:"-  "}ol.lst-kix_1x8fjtjh2wx-3.start{counter-reset:lst-ctn-kix_1x8fjtjh2wx-3 0}ol.lst-kix_pmi4f1h2f9l1-2.start{counter-reset:lst-ctn-kix_pmi4f1h2f9l1-2 0}ol.lst-kix_rcqjus8673fk-1.start{counter-reset:lst-ctn-kix_rcqjus8673fk-1 0}.lst-kix_pjrhe3gihtpz-3>li{counter-increment:lst-ctn-kix_pjrhe3gihtpz-3}ol.lst-kix_uh6lb8ke6v0-2.start{counter-reset:lst-ctn-kix_uh6lb8ke6v0-2 0}ol.lst-kix_ps5z6qbk3wcp-6.start{counter-reset:lst-ctn-kix_ps5z6qbk3wcp-6 0}.lst-kix_uh6lb8ke6v0-0>li:before{content:"" counter(lst-ctn-kix_uh6lb8ke6v0-0,decimal) ". "}ol.lst-kix_rcqjus8673fk-7.start{counter-reset:lst-ctn-kix_rcqjus8673fk-7 0}.lst-kix_uh6lb8ke6v0-1>li:before{content:"" counter(lst-ctn-kix_uh6lb8ke6v0-1,lower-latin) ". "}ol.lst-kix_uh6lb8ke6v0-8.start{counter-reset:lst-ctn-kix_uh6lb8ke6v0-8 0}.lst-kix_rcqjus8673fk-0>li{counter-increment:lst-ctn-kix_rcqjus8673fk-0}.lst-kix_uh6lb8ke6v0-2>li:before{content:"" counter(lst-ctn-kix_uh6lb8ke6v0-2,lower-roman) ". "}ol.lst-kix_1x8fjtjh2wx-2.start{counter-reset:lst-ctn-kix_1x8fjtjh2wx-2 0}.lst-kix_pjrhe3gihtpz-1>li:before{content:"" counter(lst-ctn-kix_pjrhe3gihtpz-1,lower-latin) ". "}.lst-kix_pjrhe3gihtpz-3>li:before{content:"" counter(lst-ctn-kix_pjrhe3gihtpz-3,decimal) ". "}ol.lst-kix_pmi4f1h2f9l1-8.start{counter-reset:lst-ctn-kix_pmi4f1h2f9l1-8 0}ol.lst-kix_pjrhe3gihtpz-8.start{counter-reset:lst-ctn-kix_pjrhe3gihtpz-8 0}ol.lst-kix_pmi4f1h2f9l1-5.start{counter-reset:lst-ctn-kix_pmi4f1h2f9l1-5 0}ol.lst-kix_uh6lb8ke6v0-1.start{counter-reset:lst-ctn-kix_uh6lb8ke6v0-1 0}.lst-kix_pjrhe3gihtpz-5>li:before{content:"" counter(lst-ctn-kix_pjrhe3gihtpz-5,lower-roman) ". "}.lst-kix_pjrhe3gihtpz-7>li:before{content:"" counter(lst-ctn-kix_pjrhe3gihtpz-7,lower-latin) ". "}ol.lst-kix_ps5z6qbk3wcp-7.start{counter-reset:lst-ctn-kix_ps5z6qbk3wcp-7 0}.lst-kix_pjrhe3gihtpz-7>li{counter-increment:lst-ctn-kix_pjrhe3gihtpz-7}.lst-kix_uh6lb8ke6v0-8>li{counter-increment:lst-ctn-kix_uh6lb8ke6v0-8}ol.lst-kix_ujwonb17l0vf-7.start{counter-reset:lst-ctn-kix_ujwonb17l0vf-7 0}ol.lst-kix_rcqjus8673fk-6.start{counter-reset:lst-ctn-kix_rcqjus8673fk-6 0}.lst-kix_pjrhe3gihtpz-8>li{counter-increment:lst-ctn-kix_pjrhe3gihtpz-8}.lst-kix_ps5z6qbk3wcp-1>li{counter-increment:lst-ctn-kix_ps5z6qbk3wcp-1}ol.lst-kix_ujwonb17l0vf-4.start{counter-reset:lst-ctn-kix_ujwonb17l0vf-4 0}.lst-kix_ujwonb17l0vf-6>li:before{content:"" counter(lst-ctn-kix_ujwonb17l0vf-6,decimal) ". "}.lst-kix_1x8fjtjh2wx-1>li{counter-increment:lst-ctn-kix_1x8fjtjh2wx-1}.lst-kix_ujwonb17l0vf-8>li:before{content:"" counter(lst-ctn-kix_ujwonb17l0vf-8,lower-roman) ". "}ol.lst-kix_pmi4f1h2f9l1-5{list-style-type:none}.lst-kix_1x8fjtjh2wx-0>li{counter-increment:lst-ctn-kix_1x8fjtjh2wx-0}ol.lst-kix_pmi4f1h2f9l1-4{list-style-type:none}ol.lst-kix_pmi4f1h2f9l1-3{list-style-type:none}ol.lst-kix_pmi4f1h2f9l1-2{list-style-type:none}.lst-kix_1x8fjtjh2wx-6>li{counter-increment:lst-ctn-kix_1x8fjtjh2wx-6}ol.lst-kix_pmi4f1h2f9l1-8{list-style-type:none}ol.lst-kix_pmi4f1h2f9l1-7{list-style-type:none}ol.lst-kix_pmi4f1h2f9l1-6{list-style-type:none}.lst-kix_uh6lb8ke6v0-1>li{counter-increment:lst-ctn-kix_uh6lb8ke6v0-1}.lst-kix_uh6lb8ke6v0-7>li{counter-increment:lst-ctn-kix_uh6lb8ke6v0-7}.lst-kix_rcqjus8673fk-7>li:before{content:"" counter(lst-ctn-kix_rcqjus8673fk-7,lower-latin) ". "}ol.lst-kix_ujwonb17l0vf-5.start{counter-reset:lst-ctn-kix_ujwonb17l0vf-5 0}.lst-kix_rcqjus8673fk-5>li:before{content:"" counter(lst-ctn-kix_rcqjus8673fk-5,lower-roman) ". "}.lst-kix_rcqjus8673fk-3>li:before{content:"" counter(lst-ctn-kix_rcqjus8673fk-3,decimal) ". "}ol.lst-kix_pmi4f1h2f9l1-1{list-style-type:none}ol.lst-kix_1x8fjtjh2wx-0.start{counter-reset:lst-ctn-kix_1x8fjtjh2wx-0 0}ol.lst-kix_rcqjus8673fk-3.start{counter-reset:lst-ctn-kix_rcqjus8673fk-3 0}ol.lst-kix_pmi4f1h2f9l1-0{list-style-type:none}.lst-kix_ps5z6qbk3wcp-6>li{counter-increment:lst-ctn-kix_ps5z6qbk3wcp-6}.lst-kix_1x8fjtjh2wx-1>li:before{content:"" counter(lst-ctn-kix_1x8fjtjh2wx-1,lower-latin) ". "}.lst-kix_pmi4f1h2f9l1-0>li{counter-increment:lst-ctn-kix_pmi4f1h2f9l1-0}.lst-kix_1x8fjtjh2wx-3>li:before{content:"" counter(lst-ctn-kix_1x8fjtjh2wx-3,decimal) ". "}.lst-kix_ps5z6qbk3wcp-0>li{counter-increment:lst-ctn-kix_ps5z6qbk3wcp-0}.lst-kix_rcqjus8673fk-1>li:before{content:"" counter(lst-ctn-kix_rcqjus8673fk-1,lower-latin) ". "}.lst-kix_1x8fjtjh2wx-5>li:before{content:"" counter(lst-ctn-kix_1x8fjtjh2wx-5,lower-roman) ". "}ol.lst-kix_rcqjus8673fk-4.start{counter-reset:lst-ctn-kix_rcqjus8673fk-4 0}ol.lst-kix_pmi4f1h2f9l1-6.start{counter-reset:lst-ctn-kix_pmi4f1h2f9l1-6 0}.lst-kix_1x8fjtjh2wx-7>li:before{content:"" counter(lst-ctn-kix_1x8fjtjh2wx-7,lower-latin) ". "}.lst-kix_pmi4f1h2f9l1-6>li{counter-increment:lst-ctn-kix_pmi4f1h2f9l1-6}.lst-kix_ujwonb17l0vf-5>li{counter-increment:lst-ctn-kix_ujwonb17l0vf-5}ul.lst-kix_10lhdzcwy36y-8{list-style-type:none}ul.lst-kix_10lhdzcwy36y-7{list-style-type:none}.lst-kix_5ppl16h0m2hk-8>li:before{content:"\0025a0  "}.lst-kix_ujwonb17l0vf-3>li{counter-increment:lst-ctn-kix_ujwonb17l0vf-3}ol.lst-kix_pjrhe3gihtpz-4.start{counter-reset:lst-ctn-kix_pjrhe3gihtpz-4 0}.lst-kix_rcqjus8673fk-6>li{counter-increment:lst-ctn-kix_rcqjus8673fk-6}.lst-kix_uh6lb8ke6v0-4>li{counter-increment:lst-ctn-kix_uh6lb8ke6v0-4}ul.lst-kix_10lhdzcwy36y-0{list-style-type:none}ul.lst-kix_10lhdzcwy36y-2{list-style-type:none}ul.lst-kix_10lhdzcwy36y-1{list-style-type:none}ul.lst-kix_10lhdzcwy36y-4{list-style-type:none}ul.lst-kix_10lhdzcwy36y-3{list-style-type:none}.lst-kix_5ppl16h0m2hk-3>li:before{content:"\0025cf  "}ol.lst-kix_rcqjus8673fk-5.start{counter-reset:lst-ctn-kix_rcqjus8673fk-5 0}ul.lst-kix_10lhdzcwy36y-6{list-style-type:none}ul.lst-kix_10lhdzcwy36y-5{list-style-type:none}.lst-kix_5ppl16h0m2hk-2>li:before{content:"\0025a0  "}.lst-kix_pmi4f1h2f9l1-5>li{counter-increment:lst-ctn-kix_pmi4f1h2f9l1-5}.lst-kix_1x8fjtjh2wx-8>li{counter-increment:lst-ctn-kix_1x8fjtjh2wx-8}.lst-kix_pjrhe3gihtpz-0>li{counter-increment:lst-ctn-kix_pjrhe3gihtpz-0}.lst-kix_5ppl16h0m2hk-0>li:before{content:"\0025cf  "}.lst-kix_5ppl16h0m2hk-1>li:before{content:"\0025cb  "}ol.lst-kix_ujwonb17l0vf-3.start{counter-reset:lst-ctn-kix_ujwonb17l0vf-3 0}ol.lst-kix_ps5z6qbk3wcp-8.start{counter-reset:lst-ctn-kix_ps5z6qbk3wcp-8 0}ol.lst-kix_ujwonb17l0vf-2{list-style-type:none}ol.lst-kix_ujwonb17l0vf-3{list-style-type:none}.lst-kix_uh6lb8ke6v0-2>li{counter-increment:lst-ctn-kix_uh6lb8ke6v0-2}ol.lst-kix_ujwonb17l0vf-0{list-style-type:none}ol.lst-kix_ujwonb17l0vf-1{list-style-type:none}ol.lst-kix_ujwonb17l0vf-6{list-style-type:none}ol.lst-kix_pmi4f1h2f9l1-4.start{counter-reset:lst-ctn-kix_pmi4f1h2f9l1-4 0}.lst-kix_ujwonb17l0vf-1>li{counter-increment:lst-ctn-kix_ujwonb17l0vf-1}ol.lst-kix_ujwonb17l0vf-7{list-style-type:none}ol.lst-kix_ujwonb17l0vf-4{list-style-type:none}ol.lst-kix_1x8fjtjh2wx-1.start{counter-reset:lst-ctn-kix_1x8fjtjh2wx-1 0}ol.lst-kix_ujwonb17l0vf-5{list-style-type:none}.lst-kix_rcqjus8673fk-4>li{counter-increment:lst-ctn-kix_rcqjus8673fk-4}ol.lst-kix_ujwonb17l0vf-8{list-style-type:none}ol.lst-kix_uh6lb8ke6v0-0.start{counter-reset:lst-ctn-kix_uh6lb8ke6v0-0 0}.lst-kix_5ppl16h0m2hk-4>li:before{content:"\0025cb  "}.lst-kix_5ppl16h0m2hk-5>li:before{content:"\0025a0  "}.lst-kix_5ppl16h0m2hk-6>li:before{content:"\0025cf  "}.lst-kix_pjrhe3gihtpz-2>li{counter-increment:lst-ctn-kix_pjrhe3gihtpz-2}.lst-kix_ps5z6qbk3wcp-7>li{counter-increment:lst-ctn-kix_ps5z6qbk3wcp-7}.lst-kix_5ppl16h0m2hk-7>li:before{content:"\0025cb  "}ol.lst-kix_ujwonb17l0vf-8.start{counter-reset:lst-ctn-kix_ujwonb17l0vf-8 0}.lst-kix_pmi4f1h2f9l1-7>li{counter-increment:lst-ctn-kix_pmi4f1h2f9l1-7}ol.lst-kix_rcqjus8673fk-0.start{counter-reset:lst-ctn-kix_rcqjus8673fk-0 0}ol.lst-kix_pmi4f1h2f9l1-3.start{counter-reset:lst-ctn-kix_pmi4f1h2f9l1-3 0}.lst-kix_ujwonb17l0vf-4>li:before{content:"" counter(lst-ctn-kix_ujwonb17l0vf-4,lower-latin) ". "}.lst-kix_uh6lb8ke6v0-0>li{counter-increment:lst-ctn-kix_uh6lb8ke6v0-0}.lst-kix_uh6lb8ke6v0-6>li{counter-increment:lst-ctn-kix_uh6lb8ke6v0-6}.lst-kix_ujwonb17l0vf-2>li:before{content:"" counter(lst-ctn-kix_ujwonb17l0vf-2,lower-roman) ". "}.lst-kix_ujwonb17l0vf-3>li:before{content:"" counter(lst-ctn-kix_ujwonb17l0vf-3,decimal) ". "}.lst-kix_ps5z6qbk3wcp-5>li{counter-increment:lst-ctn-kix_ps5z6qbk3wcp-5}.lst-kix_pmi4f1h2f9l1-1>li{counter-increment:lst-ctn-kix_pmi4f1h2f9l1-1}.lst-kix_ujwonb17l0vf-0>li:before{content:"" counter(lst-ctn-kix_ujwonb17l0vf-0,decimal) ". "}.lst-kix_ujwonb17l0vf-1>li:before{content:"" counter(lst-ctn-kix_ujwonb17l0vf-1,lower-latin) ". "}ol.lst-kix_uh6lb8ke6v0-8{list-style-type:none}ol.lst-kix_uh6lb8ke6v0-6{list-style-type:none}ol.lst-kix_uh6lb8ke6v0-7{list-style-type:none}ol.lst-kix_ujwonb17l0vf-2.start{counter-reset:lst-ctn-kix_ujwonb17l0vf-2 0}ol.lst-kix_uh6lb8ke6v0-4{list-style-type:none}ol.lst-kix_uh6lb8ke6v0-5{list-style-type:none}ol.lst-kix_uh6lb8ke6v0-2{list-style-type:none}ol.lst-kix_uh6lb8ke6v0-3{list-style-type:none}ol.lst-kix_uh6lb8ke6v0-0{list-style-type:none}ol.lst-kix_uh6lb8ke6v0-1{list-style-type:none}ol.lst-kix_pjrhe3gihtpz-5.start{counter-reset:lst-ctn-kix_pjrhe3gihtpz-5 0}.lst-kix_pjrhe3gihtpz-6>li{counter-increment:lst-ctn-kix_pjrhe3gihtpz-6}.lst-kix_pjrhe3gihtpz-2>li:before{content:"" counter(lst-ctn-kix_pjrhe3gihtpz-2,lower-roman) ". "}.lst-kix_pjrhe3gihtpz-0>li:before{content:"" counter(lst-ctn-kix_pjrhe3gihtpz-0,decimal) ". "}.lst-kix_pjrhe3gihtpz-4>li:before{content:"" counter(lst-ctn-kix_pjrhe3gihtpz-4,lower-latin) ". "}.lst-kix_1x8fjtjh2wx-3>li{counter-increment:lst-ctn-kix_1x8fjtjh2wx-3}.lst-kix_rcqjus8673fk-1>li{counter-increment:lst-ctn-kix_rcqjus8673fk-1}ol.lst-kix_ps5z6qbk3wcp-4.start{counter-reset:lst-ctn-kix_ps5z6qbk3wcp-4 0}.lst-kix_1x8fjtjh2wx-2>li{counter-increment:lst-ctn-kix_1x8fjtjh2wx-2}.lst-kix_pjrhe3gihtpz-8>li:before{content:"" counter(lst-ctn-kix_pjrhe3gihtpz-8,lower-roman) ". "}ol.lst-kix_1x8fjtjh2wx-5.start{counter-reset:lst-ctn-kix_1x8fjtjh2wx-5 0}.lst-kix_pjrhe3gihtpz-6>li:before{content:"" counter(lst-ctn-kix_pjrhe3gihtpz-6,decimal) ". "}.lst-kix_ps5z6qbk3wcp-2>li{counter-increment:lst-ctn-kix_ps5z6qbk3wcp-2}ol.lst-kix_uh6lb8ke6v0-4.start{counter-reset:lst-ctn-kix_uh6lb8ke6v0-4 0}ol.lst-kix_1x8fjtjh2wx-8.start{counter-reset:lst-ctn-kix_1x8fjtjh2wx-8 0}.lst-kix_ujwonb17l0vf-7>li{counter-increment:lst-ctn-kix_ujwonb17l0vf-7}.lst-kix_pjrhe3gihtpz-5>li{counter-increment:lst-ctn-kix_pjrhe3gihtpz-5}.lst-kix_rcqjus8673fk-2>li{counter-increment:lst-ctn-kix_rcqjus8673fk-2}ol.lst-kix_pjrhe3gihtpz-7{list-style-type:none}ol.lst-kix_pjrhe3gihtpz-8{list-style-type:none}ol.lst-kix_pjrhe3gihtpz-5{list-style-type:none}ol.lst-kix_uh6lb8ke6v0-7.start{counter-reset:lst-ctn-kix_uh6lb8ke6v0-7 0}ol.lst-kix_pjrhe3gihtpz-0.start{counter-reset:lst-ctn-kix_pjrhe3gihtpz-0 0}ol.lst-kix_pjrhe3gihtpz-6{list-style-type:none}ol.lst-kix_ps5z6qbk3wcp-1.start{counter-reset:lst-ctn-kix_ps5z6qbk3wcp-1 0}ol.lst-kix_pjrhe3gihtpz-3{list-style-type:none}ol.lst-kix_pjrhe3gihtpz-4{list-style-type:none}ol.lst-kix_pjrhe3gihtpz-1{list-style-type:none}ol.lst-kix_pjrhe3gihtpz-2{list-style-type:none}ol.lst-kix_ps5z6qbk3wcp-4{list-style-type:none}ol.lst-kix_ps5z6qbk3wcp-5{list-style-type:none}.lst-kix_ujwonb17l0vf-5>li:before{content:"" counter(lst-ctn-kix_ujwonb17l0vf-5,lower-roman) ". "}ol.lst-kix_pjrhe3gihtpz-0{list-style-type:none}ol.lst-kix_ps5z6qbk3wcp-2{list-style-type:none}ol.lst-kix_ps5z6qbk3wcp-3{list-style-type:none}.lst-kix_ps5z6qbk3wcp-4>li{counter-increment:lst-ctn-kix_ps5z6qbk3wcp-4}ol.lst-kix_ps5z6qbk3wcp-8{list-style-type:none}.lst-kix_ujwonb17l0vf-7>li:before{content:"" counter(lst-ctn-kix_ujwonb17l0vf-7,lower-latin) ". "}ol.lst-kix_ps5z6qbk3wcp-6{list-style-type:none}ol.lst-kix_ps5z6qbk3wcp-7{list-style-type:none}.lst-kix_1x8fjtjh2wx-4>li{counter-increment:lst-ctn-kix_1x8fjtjh2wx-4}ol.lst-kix_ps5z6qbk3wcp-0{list-style-type:none}ol.lst-kix_ps5z6qbk3wcp-1{list-style-type:none}ol.lst-kix_ps5z6qbk3wcp-2.start{counter-reset:lst-ctn-kix_ps5z6qbk3wcp-2 0}ol.lst-kix_1x8fjtjh2wx-7.start{counter-reset:lst-ctn-kix_1x8fjtjh2wx-7 0}.lst-kix_rcqjus8673fk-8>li:before{content:"" counter(lst-ctn-kix_rcqjus8673fk-8,lower-roman) ". "}ol.lst-kix_uh6lb8ke6v0-6.start{counter-reset:lst-ctn-kix_uh6lb8ke6v0-6 0}.lst-kix_rcqjus8673fk-6>li:before{content:"" counter(lst-ctn-kix_rcqjus8673fk-6,decimal) ". "}ol.lst-kix_pmi4f1h2f9l1-0.start{counter-reset:lst-ctn-kix_pmi4f1h2f9l1-0 0}.lst-kix_rcqjus8673fk-2>li:before{content:"" counter(lst-ctn-kix_rcqjus8673fk-2,lower-roman) ". "}ol.lst-kix_pjrhe3gihtpz-3.start{counter-reset:lst-ctn-kix_pjrhe3gihtpz-3 0}.lst-kix_pjrhe3gihtpz-4>li{counter-increment:lst-ctn-kix_pjrhe3gihtpz-4}.lst-kix_rcqjus8673fk-4>li:before{content:"" counter(lst-ctn-kix_rcqjus8673fk-4,lower-latin) ". "}.lst-kix_1x8fjtjh2wx-0>li:before{content:"" counter(lst-ctn-kix_1x8fjtjh2wx-0,decimal) ". "}.lst-kix_rcqjus8673fk-8>li{counter-increment:lst-ctn-kix_rcqjus8673fk-8}.lst-kix_pmi4f1h2f9l1-3>li{counter-increment:lst-ctn-kix_pmi4f1h2f9l1-3}.lst-kix_1x8fjtjh2wx-2>li:before{content:"" counter(lst-ctn-kix_1x8fjtjh2wx-2,lower-roman) ". "}ol.lst-kix_1x8fjtjh2wx-6.start{counter-reset:lst-ctn-kix_1x8fjtjh2wx-6 0}.lst-kix_rcqjus8673fk-0>li:before{content:"" counter(lst-ctn-kix_rcqjus8673fk-0,decimal) ". "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_ps5z6qbk3wcp-3>li{counter-increment:lst-ctn-kix_ps5z6qbk3wcp-3}.lst-kix_1x8fjtjh2wx-4>li:before{content:"" counter(lst-ctn-kix_1x8fjtjh2wx-4,lower-latin) ". "}.lst-kix_ujwonb17l0vf-8>li{counter-increment:lst-ctn-kix_ujwonb17l0vf-8}ol.lst-kix_pjrhe3gihtpz-2.start{counter-reset:lst-ctn-kix_pjrhe3gihtpz-2 0}.lst-kix_ujwonb17l0vf-2>li{counter-increment:lst-ctn-kix_ujwonb17l0vf-2}ol.lst-kix_uh6lb8ke6v0-5.start{counter-reset:lst-ctn-kix_uh6lb8ke6v0-5 0}.lst-kix_1x8fjtjh2wx-6>li:before{content:"" counter(lst-ctn-kix_1x8fjtjh2wx-6,decimal) ". "}ol.lst-kix_ps5z6qbk3wcp-3.start{counter-reset:lst-ctn-kix_ps5z6qbk3wcp-3 0}.lst-kix_1x8fjtjh2wx-8>li:before{content:"" counter(lst-ctn-kix_1x8fjtjh2wx-8,lower-roman) ". "}ol{margin:0;padding:0}table td,table th{padding:0}.c0{-webkit-text-decoration-skip:none;color:#1155cc;font-weight:400;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:11pt;font-family:"Arial";font-style:normal}.c10{margin-left:36pt;padding-top:10pt;padding-left:0pt;padding-bottom:10pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c11{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c16{padding-top:16pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c14{padding-top:14pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c18{margin-left:54pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c13{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c8{color:#434343;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c7{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c21{padding-top:10pt;padding-bottom:10pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c17{margin-left:36pt;padding-top:3pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c19{color:#666666;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c25{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c5{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c4{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c3{margin-left:36pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c26{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c28{margin-left:18pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c12{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c24{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c27{padding-top:4pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c2{padding-top:0pt;padding-bottom:10pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c23{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c15{background-color:#ffffff;max-width:531pt;padding:72pt 31.5pt 72pt 49.5pt}.c9{color:inherit;text-decoration:inherit}.c1{padding:0;margin:0}.c6{font-weight:700}.c22{padding-left:0pt}.c20{margin-left:36pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c15 doc-content"><p class="c7"><span class="c5"></span></p><p class="c27"><span class="c0"><a class="c9" href="#h.xpb4oerjkf7y">Amazon ECR, ECS (EC2/Fargate)</a></span></p><p class="c3"><span class="c0"><a class="c9" href="#h.7p2e46sidir5">WHAT IS ECR?</a></span></p><p class="c3"><span class="c0"><a class="c9" href="#h.6y66y6g6n3cu">WHAT IS ECS?</a></span></p><p class="c28"><span class="c0"><a class="c9" href="#h.w3mfzq6na616">Deploying instruction</a></span></p><p class="c18"><span class="c0"><a class="c9" href="#h.y4hz1kt3d78j">Network infrastructure configuration</a></span></p><p class="c18"><span class="c0"><a class="c9" href="#h.esfaved3hof4">Configuring ECS + ECR entities</a></span></p><p class="c18"><span class="c0"><a class="c9" href="#h.felp6j61ytrc">Configuring GitHub actions</a></span></p><p class="c17"><span class="c0"><a class="c9" href="#h.v6uqxi99kukd">Load balancer configuration</a></span></p><p class="c7"><span class="c5"></span></p><p class="c7"><span class="c5"></span></p><h1 class="c25" id="h.xpb4oerjkf7y"><span class="c4">Amazon ECR, ECS (EC2/Fargate)</span></h1><h3 class="c16" id="h.7p2e46sidir5"><span class="c8">WHAT IS ECR?</span></h3><p class="c7"><span class="c5"></span></p><p class="c12"><span class="c6">ECR</span><span class="c5">&nbsp;is an acronym for the &ldquo;Elastic container registry&rdquo;. In simple terms, it is the so-called &ldquo;AMAZON DOCKER HUB&rdquo; of your containers!</span></p><p class="c12"><span class="c5">You can push all your local containers images from your LOCAL to ECR, ECR is the home for all your pushed container images where later it can be used by ECS service to get deployed on AMAZON platform.</span></p><h3 class="c16" id="h.6y66y6g6n3cu"><span class="c8">WHAT IS ECS?</span></h3><p class="c7"><span class="c5"></span></p><p class="c12"><span class="c5">Amazon ECS is a container orchestration service used to provision and manage container clusters. It allows you to quickly deploy and scale containerized workloads without having to configure, manage, and scale your own container management tool.</span></p><p class="c7"><span class="c5"></span></p><p class="c12"><span class="c6">ECS</span><span class="c5">&nbsp;is an acronym for &ldquo;EC2 container service&rdquo;. In simple terms, it provides a way to deploy your Docker containers over the Amazon platform on an EC2 instance or serverless(FARGATE)! ECS helps you orchestrate your containers.</span></p><p class="c12"><span class="c5">So if you have any containers running on your local machine but you want to make it live on a public platform to get publically accessible, AWS ECS is the solution for that along with &ldquo;ECR&rdquo; and &ldquo;Task definitions&rdquo; and &ldquo;services&rdquo;. </span></p><p class="c7"><span class="c5"></span></p><p class="c12"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 306.67px;"><img alt="" src="images/image1.png" style="width: 624.00px; height: 306.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c7"><span class="c5"></span></p><p class="c7"><span class="c24 c6"></span></p><p class="c12"><span class="c6">ECS supports two launch types: EC2, and Fargate</span><span class="c5">. Container clusters can be configured using either one, or a mixture of the two, with a variety of pricing options for both launch types. </span></p><p class="c7"><span class="c24 c6"></span></p><ul class="c1 lst-kix_5ppl16h0m2hk-0 start"><li class="c11 li-bullet-0"><span class="c6">With the EC2 launch type, clusters are constructed as a fleet of Amazon Elastic Compute Cloud (EC2) instances</span><span class="c5">. This provides greater control over the customization of your environment. However, while you can benefit from being able to configure your infrastructure to meet your needs (such as choosing network optimized or GPU optimized instances), you are also responsible for upkeep, including patching, instance type selection, networking, and environment security of your instances.</span></li></ul><p class="c7"><span class="c5"></span></p><ul class="c1 lst-kix_5ppl16h0m2hk-0"><li class="c11 li-bullet-0"><span class="c6">With the Fargate launch type, you can concentrate on developing and maintaining your containerized applications, with the underlying servers abstracted</span><span class="c5">. Fargate removes the need to provision and manage servers. Instead, you simply specify the resources per task, which also improves security through application isolation by design. ECS then communicates with Fargate to launch, run, and manage the containers on your behalf. </span></li></ul><p class="c12 c20"><span>Each task that runs in Fargate comes with a dedicated </span><span class="c6">Elastic Network Interface (ENI) with a private IP address</span><span class="c5">. All containers of the same task can communicate with each other via localhost. Inbound and outbound task communication goes through the ENI. A public IP address can be enabled as well.</span></p><p class="c7"><span class="c6 c24"></span></p><p class="c12"><span class="c6">ECS cluster</span><span class="c5">&nbsp;is a regional grouping of one or more container instances on which you can run task requests.When an instance launches, the ECS-agent software on the server registers the instance to an ECS Cluster. You can choose an existing VPC, or create a new one to spin up your container instances.</span></p><p class="c2"><span class="c6">ECS is basically a logical grouping of EC2 machines/instances</span><span class="c5">. Technically speaking ECS is a mere configuration for an efficient use and management of your EC2 instance(s) resources i.e. storage, memory, CPU, etc.</span></p><p class="c2"><span class="c5">To sum up, ECS is just about clustering of EC2 instances, and uses Docker to instantiate containers/instances/virtual machines on these (EC2) hosts.</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 452.00px;"><img alt="" src="images/image4.png" style="width: 624.00px; height: 452.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c12"><span class="c6">TASK DEFINITION</span><span class="c5">: It is the complete definition of your tasks(in simple terms, your containers) and to describe how containers should be provisioned. Here You need to provide a link to ECR&rsquo;s saved container images, CPU units, Memory, Container ports to expose, network type and many more. Simple terms, you are defining your containers and how to launch them via Task definitions.</span></p><p class="c7"><span class="c5"></span></p><p class="c12"><span class="c6">TASKS</span><span class="c5">: It is nothing but &ldquo; A RUNNING CONTAINER &ldquo;. The description you provided for your containers in TASK DEFINITION, TASKS are the result of that. It can be thought of as a &ldquo;RUNNING INSTANCE&rdquo; of a Task Definition.</span></p><p class="c7"><span class="c5"></span></p><p class="c12"><span class="c6">ECS SERVICE</span><span class="c5">&nbsp;allows you to run your container instances as defined in your task definition. It also allows you to run and maintain a specified number of instances by configuring the auto-scaling policies. If any of your tasks fail or stop for any reason, the Amazon ECS service scheduler launches another instance of your task definition to replace it and maintain the desired count of tasks. You can optionally run your service behind a load balancer, The load balancer distributes traffic across the tasks that are associated with the service.</span></p><p class="c7"><span class="c5"></span></p><p class="c12"><span class="c6">CONTAINER INSTANCE</span><span class="c5">: This is nothing but an EC2 instance that is part of an ECS Cluster and has docker and the ECS-agent running on it.</span></p><p class="c7"><span class="c5"></span></p><p class="c12"><span class="c5">So to summarize everything:</span></p><p class="c7"><span class="c5"></span></p><ol class="c1 lst-kix_1x8fjtjh2wx-0 start" start="1"><li class="c11 li-bullet-0"><span class="c6">Create a docker image</span><span class="c5">&nbsp;for your application, get ECR login on your local machine and push your image to your ECR.</span></li><li class="c11 li-bullet-0"><span class="c6">Create an ECS cluster</span><span class="c5">&nbsp;using desired no. of EC2 instances (if you are using EC2+Networking type) or if you are using the FARGATE option, this will be serverless. You can create this cluster in default or a custom VPC.</span></li><li class="c11 li-bullet-0"><span class="c6">Create a new task definition</span><span class="c5">&nbsp;and describe everything about your container. Including the network type, ECR&rsquo;s saved image path that you pushed from your local to Amazon ECR. Provide memory, CPU units and expose ports.</span></li><li class="c11 li-bullet-0"><span class="c6">Create a new service</span><span class="c5">&nbsp;and choose your task definition to spin up TASKS from. Create a load balancer and configure it, depending upon the needs. Choose autoscaling policies and the desired number of instances.</span></li><li class="c11 li-bullet-0"><span class="c5">You are done with your part now just wait for your tasks/containers to come UP and you can access it via the load balancer and the port you defined!</span></li></ol><h2 class="c13" id="h.w3mfzq6na616"><span class="c26">Deploying instruction</span></h2><p class="c12"><span class="c5">Overall the process of deploying a service and making it externally available can be split into three sections which are described below.</span></p><h4 class="c14" id="h.y4hz1kt3d78j"><span class="c19">Network infrastructure configuration</span></h4><ol class="c1 lst-kix_ps5z6qbk3wcp-0 start" start="1"><li class="c10 li-bullet-0"><span class="c5">Create (or make sure it exists) VPC - Virtual Private Cloud (which is basically a local subnet with a range of IP addresses) </span></li><li class="c10 li-bullet-0"><span class="c5">Create subnets needed within the created VPC. Main parameters: availability zone (us-east-2a, us-west-2a etc), route table.</span></li><li class="c10 li-bullet-0"><span class="c5">Create (or make sure it exists) Internet Gateway entity.</span></li><li class="c10 li-bullet-0"><span class="c5">Create a route table containing rules for traffic routing. Example: </span></li></ol><p class="c12 c20"><span class="c5">10.0.0.0/16&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local</span></p><p class="c12 c20"><span class="c5">0.0.0.0/0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;igw-00cfdeac1a5dc71ef &nbsp;&lt;&lt;&lt; this is a link to the Internet Gateway</span></p><ol class="c1 lst-kix_ps5z6qbk3wcp-0" start="5"><li class="c10 li-bullet-0"><span class="c5">Create a VPC Security Group with inbound/outbound rules allowing services within your VPC to make and receive requests to/from the Internet. Example:</span></li></ol><p class="c12 c20"><span class="c5">Inbound rule:</span></p><p class="c12 c20"><span class="c5">Type Custom TCP</span></p><p class="c12 c20"><span class="c5">Protocol TCP</span></p><p class="c12 c20"><span class="c5">Port range 8080</span></p><p class="c12 c20"><span class="c5">Source 0.0.0.0/0 &lt;&lt;&lt; Accept all TCP traffic to port 8080 from the Internet Gateway</span></p><p class="c7 c20"><span class="c5"></span></p><p class="c12"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Outbound rule:</span></p><p class="c12 c20"><span class="c5">Type All traffic</span></p><p class="c12 c20"><span class="c5">Protocol All</span></p><p class="c12 c20"><span class="c5">Port range All</span></p><p class="c12 c20"><span class="c5">Destination 0.0.0.0/0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;&lt; which will route your traffic to Internet Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><h4 class="c21" id="h.esfaved3hof4"><span class="c19">Configuring ECS + ECR entities </span></h4><ol class="c1 lst-kix_uh6lb8ke6v0-0 start" start="1"><li class="c10 li-bullet-0"><span class="c5">Create ECR (Elastic Container Registry) for storing docker containers. (One repository per one docker image)</span></li><li class="c10 li-bullet-0"><span class="c5">Create Elastic IP entity (which is basically a static IP address that is going to be used as entry point for Load Balancer configuration)</span></li><li class="c10 li-bullet-0"><span class="c5">Create an empty target group which is going to be used as a destination for routing requests by Load Balancer (Optional. It can be created automatically while creating Load Balancer entity)</span></li><li class="c10 li-bullet-0"><span class="c5">Create a Load Balancer, choose a subnet the requests are going to be routed to, choose the elastic IP entity, choose the target group.</span></li><li class="c10 li-bullet-0"><span class="c5">Create ECS Cluster (type: Networking only)</span></li><li class="c10 li-bullet-0"><span class="c5">Create ECS Task Definition (type: Fargate, task role: None, network mode: awsvpc, task execution role: ecsTaskExecutionRole). Add a container to a task, configure CPU/memory resources allocation.</span></li><li class="c10 li-bullet-0"><span class="c5">Create ECS Service (launch type: Fargate, choose your task definition, choose your VPC, subnet, security group). &nbsp;Load balancing -&gt; Load balancing type: Network Load Balancer, Container to load balance -&gt; add container to load balance. IMPORTANT NOTICE: choose the target group so every time the service executes it registers the allocated container private IP address in this target group, so the load balancer gets to route traffic to newly created containers.</span></li><li class="c10 li-bullet-0"><span>Create an individual IAM user with an access key for use in GitHub Actions workflows, preferably one per repository. Do not use the AWS account root user access key. Grant least privilege to the credentials used in GitHub Actions workflows. Grant only the permissions required to perform the actions in your GitHub Actions workflows. (Go to documentation of every Github action used in the workflow, see &ldquo;Permissions&rdquo; section. Example: </span><span class="c23"><a class="c9" href="https://www.google.com/url?q=https://github.com/aws-actions/configure-aws-credentials&amp;sa=D&amp;source=editors&amp;ust=1657549551368056&amp;usg=AOvVaw0bp6guVaN16Z9ZDfnSpWmX">https://github.com/aws-actions/configure-aws-credentials</a></span><span class="c5">&nbsp;)</span></li></ol><h4 class="c21" id="h.felp6j61ytrc"><span class="c19">Configuring GitHub actions</span></h4><ol class="c1 lst-kix_pmi4f1h2f9l1-0 start" start="1"><li class="c10 li-bullet-0"><span class="c5">Create a project Dockerfile in the root of Github repository</span></li><li class="c10 li-bullet-0"><span class="c5">Go to repository settings and save AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY credentials of the created IAM user.</span></li><li class="c10 li-bullet-0"><span class="c5">Create a task-definition.json in the root of Github repository, fill it with Task Definition json</span></li><li class="c10 li-bullet-0"><span class="c5">Create GitHub action &ldquo;Deploy to Amazon ECS&rdquo;, replace aws.yml placeholders with values obtained from ECS/ECR configuration process.</span></li><li class="c10 li-bullet-0"><span class="c5">Add steps for building gradle/maven project to aws.yml</span></li><li class="c10 li-bullet-0"><span class="c5">Go to a repository &ldquo;Releases&rdquo; section, draft a new release, create version tag, publish release. This will initiate the &ldquo;Deploy to Amazon ECS&rdquo; workflow which will build a docker container, assign it a unique tag, and push it to Amazon ECR. After that, it will render a task definition stored in your repo, with a newly created container name, login to Amazon ECS and upload the new task definition. This action will deploy the new version of your service to the Amazon ECS Cluster.</span></li></ol><h3 class="c16" id="h.v6uqxi99kukd"><span class="c8">Load balancer configuration</span></h3><p class="c2"><span class="c5">Load balancer configuration requires to specify a target group - list of IP addresses the requests are routed to.</span></p><p class="c2"><span class="c6">Problem</span><span class="c5">: every time the container starts, it is assigned a new private IP within the subnet ip range. How do we automatically register the assigned IP in the target group?</span></p><p class="c2"><span class="c6">Answer</span><span class="c5">: </span></p><ul class="c1 lst-kix_10lhdzcwy36y-0 start"><li class="c2 c22 c20 li-bullet-0"><span class="c5">First of all we need to create a target group (with no content)</span></li><li class="c2 c20 c22 li-bullet-0"><span class="c5">While creating a service, configure a &ldquo;Container to load balance&rdquo; section so the selected container is mapped to the created target group</span></li></ul><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 428.05px; height: 241.46px;"><img alt="" src="images/image3.png" style="width: 428.05px; height: 241.46px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 330.67px;"><img alt="" src="images/image2.png" style="width: 624.00px; height: 330.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c7"><span class="c5"></span></p><p class="c7"><span class="c5"></span></p><p class="c7"><span class="c5"></span></p></body></html>