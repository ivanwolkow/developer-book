<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ul.lst-kix_quia5hp1h2l5-7{list-style-type:none}ul.lst-kix_quia5hp1h2l5-6{list-style-type:none}ul.lst-kix_quia5hp1h2l5-8{list-style-type:none}ul.lst-kix_quia5hp1h2l5-3{list-style-type:none}ul.lst-kix_quia5hp1h2l5-2{list-style-type:none}ul.lst-kix_quia5hp1h2l5-5{list-style-type:none}ul.lst-kix_quia5hp1h2l5-4{list-style-type:none}ul.lst-kix_quia5hp1h2l5-1{list-style-type:none}ul.lst-kix_quia5hp1h2l5-0{list-style-type:none}.lst-kix_bj2u8p5tnj95-2>li:before{content:"\0025a0  "}.lst-kix_bj2u8p5tnj95-1>li:before{content:"\0025cb  "}.lst-kix_bj2u8p5tnj95-3>li:before{content:"\0025cf  "}.lst-kix_bj2u8p5tnj95-0>li:before{content:"\0025cf  "}.lst-kix_e02lrg7of0hx-3>li:before{content:"\0025cf  "}.lst-kix_e02lrg7of0hx-2>li:before{content:"\0025a0  "}.lst-kix_e02lrg7of0hx-1>li:before{content:"\0025cb  "}.lst-kix_35rmg8do8q9m-0>li:before{content:"\0025cf  "}.lst-kix_e02lrg7of0hx-0>li:before{content:"\0025cf  "}ul.lst-kix_wj8ppb1qev0y-1{list-style-type:none}ul.lst-kix_wj8ppb1qev0y-0{list-style-type:none}ul.lst-kix_wj8ppb1qev0y-3{list-style-type:none}ul.lst-kix_wj8ppb1qev0y-2{list-style-type:none}ul.lst-kix_wj8ppb1qev0y-5{list-style-type:none}ul.lst-kix_wj8ppb1qev0y-4{list-style-type:none}ul.lst-kix_wj8ppb1qev0y-7{list-style-type:none}ul.lst-kix_wj8ppb1qev0y-6{list-style-type:none}ul.lst-kix_wj8ppb1qev0y-8{list-style-type:none}.lst-kix_13vhbl7wwbkg-0>li:before{content:"\0025cf  "}.lst-kix_13vhbl7wwbkg-1>li:before{content:"\0025cb  "}.lst-kix_h11e7qrq4400-8>li:before{content:"\0025a0  "}ul.lst-kix_uj5jmji1h5hp-0{list-style-type:none}ul.lst-kix_auwymz1euex7-1{list-style-type:none}ul.lst-kix_auwymz1euex7-2{list-style-type:none}ul.lst-kix_auwymz1euex7-0{list-style-type:none}ul.lst-kix_uj5jmji1h5hp-4{list-style-type:none}ul.lst-kix_uj5jmji1h5hp-3{list-style-type:none}ul.lst-kix_uj5jmji1h5hp-2{list-style-type:none}ul.lst-kix_uj5jmji1h5hp-1{list-style-type:none}ul.lst-kix_uj5jmji1h5hp-8{list-style-type:none}ul.lst-kix_uj5jmji1h5hp-7{list-style-type:none}ul.lst-kix_uj5jmji1h5hp-6{list-style-type:none}ul.lst-kix_auwymz1euex7-7{list-style-type:none}ul.lst-kix_uj5jmji1h5hp-5{list-style-type:none}ul.lst-kix_auwymz1euex7-8{list-style-type:none}.lst-kix_ur89yz2gei6m-0>li:before{content:"\0025cf  "}ul.lst-kix_auwymz1euex7-5{list-style-type:none}ul.lst-kix_auwymz1euex7-6{list-style-type:none}ul.lst-kix_auwymz1euex7-3{list-style-type:none}ul.lst-kix_auwymz1euex7-4{list-style-type:none}ul.lst-kix_h11e7qrq4400-6{list-style-type:none}ul.lst-kix_h11e7qrq4400-5{list-style-type:none}ul.lst-kix_h11e7qrq4400-4{list-style-type:none}.lst-kix_e02lrg7of0hx-4>li:before{content:"\0025cb  "}ul.lst-kix_h11e7qrq4400-3{list-style-type:none}ul.lst-kix_h11e7qrq4400-8{list-style-type:none}.lst-kix_e02lrg7of0hx-5>li:before{content:"\0025a0  "}ul.lst-kix_h11e7qrq4400-7{list-style-type:none}.lst-kix_13vhbl7wwbkg-8>li:before{content:"\0025a0  "}.lst-kix_bj2u8p5tnj95-5>li:before{content:"\0025a0  "}.lst-kix_h11e7qrq4400-1>li:before{content:"\0025cb  "}.lst-kix_e02lrg7of0hx-6>li:before{content:"\0025cf  "}.lst-kix_e02lrg7of0hx-8>li:before{content:"\0025a0  "}.lst-kix_bj2u8p5tnj95-4>li:before{content:"\0025cb  "}.lst-kix_h11e7qrq4400-0>li:before{content:"\0025cf  "}ul.lst-kix_h11e7qrq4400-2{list-style-type:none}.lst-kix_13vhbl7wwbkg-7>li:before{content:"\0025cb  "}ul.lst-kix_h11e7qrq4400-1{list-style-type:none}ul.lst-kix_h11e7qrq4400-0{list-style-type:none}.lst-kix_e02lrg7of0hx-7>li:before{content:"\0025cb  "}.lst-kix_h11e7qrq4400-6>li:before{content:"\0025cf  "}.lst-kix_13vhbl7wwbkg-4>li:before{content:"\0025cb  "}.lst-kix_13vhbl7wwbkg-5>li:before{content:"\0025a0  "}.lst-kix_h11e7qrq4400-5>li:before{content:"\0025a0  "}.lst-kix_h11e7qrq4400-7>li:before{content:"\0025cb  "}.lst-kix_13vhbl7wwbkg-2>li:before{content:"\0025a0  "}.lst-kix_13vhbl7wwbkg-6>li:before{content:"\0025cf  "}.lst-kix_bj2u8p5tnj95-6>li:before{content:"\0025cf  "}.lst-kix_h11e7qrq4400-2>li:before{content:"\0025a0  "}.lst-kix_bj2u8p5tnj95-7>li:before{content:"\0025cb  "}.lst-kix_h11e7qrq4400-3>li:before{content:"\0025cf  "}.lst-kix_bj2u8p5tnj95-8>li:before{content:"\0025a0  "}.lst-kix_h11e7qrq4400-4>li:before{content:"\0025cb  "}.lst-kix_13vhbl7wwbkg-3>li:before{content:"\0025cf  "}.lst-kix_mhftwzn69gv3-1>li:before{content:"\0025cb  "}.lst-kix_quia5hp1h2l5-0>li:before{content:"\0025cf  "}.lst-kix_wj8ppb1qev0y-8>li:before{content:"\0025a0  "}.lst-kix_szot0vr5mbdu-7>li:before{content:"\0025cb  "}.lst-kix_mhftwzn69gv3-3>li:before{content:"\0025cf  "}.lst-kix_auwymz1euex7-0>li:before{content:"\0025cf  "}.lst-kix_auwymz1euex7-4>li:before{content:"\0025cb  "}.lst-kix_mhftwzn69gv3-5>li:before{content:"\0025a0  "}ul.lst-kix_mhftwzn69gv3-5{list-style-type:none}ul.lst-kix_mhftwzn69gv3-4{list-style-type:none}.lst-kix_quia5hp1h2l5-4>li:before{content:"\0025cb  "}.lst-kix_wj8ppb1qev0y-4>li:before{content:"\0025cb  "}.lst-kix_wj8ppb1qev0y-6>li:before{content:"\0025cf  "}ul.lst-kix_mhftwzn69gv3-3{list-style-type:none}.lst-kix_szot0vr5mbdu-3>li:before{content:"\0025cf  "}ul.lst-kix_mhftwzn69gv3-2{list-style-type:none}ul.lst-kix_mhftwzn69gv3-8{list-style-type:none}.lst-kix_quia5hp1h2l5-2>li:before{content:"\0025a0  "}ul.lst-kix_mhftwzn69gv3-7{list-style-type:none}.lst-kix_auwymz1euex7-2>li:before{content:"\0025a0  "}ul.lst-kix_mhftwzn69gv3-6{list-style-type:none}.lst-kix_uj5jmji1h5hp-7>li:before{content:"\0025cb  "}.lst-kix_dvmt8fr3z8q-7>li:before{content:"\0025cb  "}.lst-kix_uj5jmji1h5hp-1>li:before{content:"\0025cb  "}.lst-kix_uj5jmji1h5hp-5>li:before{content:"\0025a0  "}.lst-kix_szot0vr5mbdu-5>li:before{content:"\0025a0  "}.lst-kix_dvmt8fr3z8q-5>li:before{content:"\0025a0  "}.lst-kix_uj5jmji1h5hp-3>li:before{content:"\0025cf  "}.lst-kix_haja03ewxrws-3>li:before{content:"\0025cf  "}.lst-kix_haja03ewxrws-5>li:before{content:"\0025a0  "}ul.lst-kix_e02lrg7of0hx-5{list-style-type:none}ul.lst-kix_e02lrg7of0hx-6{list-style-type:none}.lst-kix_ur89yz2gei6m-1>li:before{content:"\0025cb  "}ul.lst-kix_e02lrg7of0hx-7{list-style-type:none}.lst-kix_dvmt8fr3z8q-3>li:before{content:"\0025cf  "}ul.lst-kix_e02lrg7of0hx-8{list-style-type:none}.lst-kix_haja03ewxrws-1>li:before{content:"\0025cb  "}.lst-kix_haja03ewxrws-7>li:before{content:"\0025cb  "}.lst-kix_sj1bjrq55u4q-8>li:before{content:"\0025a0  "}.lst-kix_dvmt8fr3z8q-1>li:before{content:"\0025cb  "}.lst-kix_ur89yz2gei6m-3>li:before{content:"\0025cf  "}ul.lst-kix_35rmg8do8q9m-7{list-style-type:none}.lst-kix_quia5hp1h2l5-8>li:before{content:"\0025a0  "}.lst-kix_a39j13eaky3e-6>li:before{content:"\0025cf  "}ul.lst-kix_35rmg8do8q9m-8{list-style-type:none}.lst-kix_szot0vr5mbdu-1>li:before{content:"\0025cb  "}.lst-kix_mhftwzn69gv3-7>li:before{content:"\0025cb  "}ul.lst-kix_35rmg8do8q9m-3{list-style-type:none}.lst-kix_a39j13eaky3e-4>li:before{content:"\0025cb  "}.lst-kix_a39j13eaky3e-8>li:before{content:"\0025a0  "}ul.lst-kix_35rmg8do8q9m-4{list-style-type:none}ul.lst-kix_35rmg8do8q9m-5{list-style-type:none}.lst-kix_ur89yz2gei6m-5>li:before{content:"\0025a0  "}ul.lst-kix_35rmg8do8q9m-6{list-style-type:none}.lst-kix_auwymz1euex7-8>li:before{content:"\0025a0  "}ul.lst-kix_e02lrg7of0hx-1{list-style-type:none}ul.lst-kix_e02lrg7of0hx-2{list-style-type:none}ul.lst-kix_35rmg8do8q9m-0{list-style-type:none}ul.lst-kix_e02lrg7of0hx-3{list-style-type:none}ul.lst-kix_35rmg8do8q9m-1{list-style-type:none}ul.lst-kix_e02lrg7of0hx-4{list-style-type:none}ul.lst-kix_35rmg8do8q9m-2{list-style-type:none}.lst-kix_quia5hp1h2l5-6>li:before{content:"\0025cf  "}.lst-kix_ur89yz2gei6m-7>li:before{content:"\0025cb  "}ul.lst-kix_e02lrg7of0hx-0{list-style-type:none}.lst-kix_auwymz1euex7-6>li:before{content:"\0025cf  "}.lst-kix_35rmg8do8q9m-7>li:before{content:"\0025cb  "}.lst-kix_sj1bjrq55u4q-0>li:before{content:"\0025cf  "}.lst-kix_35rmg8do8q9m-3>li:before{content:"\0025cf  "}.lst-kix_sj1bjrq55u4q-2>li:before{content:"\0025a0  "}.lst-kix_sj1bjrq55u4q-4>li:before{content:"\0025cb  "}.lst-kix_35rmg8do8q9m-1>li:before{content:"\0025cb  "}.lst-kix_35rmg8do8q9m-5>li:before{content:"\0025a0  "}ul.lst-kix_bj2u8p5tnj95-7{list-style-type:none}ul.lst-kix_bj2u8p5tnj95-8{list-style-type:none}.lst-kix_sj1bjrq55u4q-6>li:before{content:"\0025cf  "}ul.lst-kix_bj2u8p5tnj95-0{list-style-type:none}ul.lst-kix_bj2u8p5tnj95-1{list-style-type:none}ul.lst-kix_bj2u8p5tnj95-2{list-style-type:none}ul.lst-kix_bj2u8p5tnj95-3{list-style-type:none}ul.lst-kix_bj2u8p5tnj95-4{list-style-type:none}ul.lst-kix_bj2u8p5tnj95-5{list-style-type:none}ul.lst-kix_bj2u8p5tnj95-6{list-style-type:none}ul.lst-kix_dvmt8fr3z8q-1{list-style-type:none}ul.lst-kix_dvmt8fr3z8q-0{list-style-type:none}ul.lst-kix_mhftwzn69gv3-1{list-style-type:none}ul.lst-kix_dvmt8fr3z8q-3{list-style-type:none}ul.lst-kix_mhftwzn69gv3-0{list-style-type:none}ul.lst-kix_dvmt8fr3z8q-2{list-style-type:none}ul.lst-kix_dvmt8fr3z8q-5{list-style-type:none}ul.lst-kix_dvmt8fr3z8q-4{list-style-type:none}ul.lst-kix_dvmt8fr3z8q-7{list-style-type:none}ul.lst-kix_dvmt8fr3z8q-6{list-style-type:none}ul.lst-kix_dvmt8fr3z8q-8{list-style-type:none}ul.lst-kix_icj2abmwolb-0{list-style-type:none}ul.lst-kix_haja03ewxrws-7{list-style-type:none}ul.lst-kix_haja03ewxrws-6{list-style-type:none}ul.lst-kix_haja03ewxrws-8{list-style-type:none}ul.lst-kix_haja03ewxrws-3{list-style-type:none}ul.lst-kix_a39j13eaky3e-0{list-style-type:none}.lst-kix_q2sj0bh0in75-2>li:before{content:"\0025a0  "}.lst-kix_q2sj0bh0in75-3>li:before{content:"\0025cf  "}ul.lst-kix_haja03ewxrws-2{list-style-type:none}ul.lst-kix_a39j13eaky3e-1{list-style-type:none}ul.lst-kix_haja03ewxrws-5{list-style-type:none}ul.lst-kix_a39j13eaky3e-2{list-style-type:none}ul.lst-kix_haja03ewxrws-4{list-style-type:none}ul.lst-kix_a39j13eaky3e-3{list-style-type:none}ul.lst-kix_a39j13eaky3e-4{list-style-type:none}.lst-kix_q2sj0bh0in75-0>li:before{content:"\0025cf  "}.lst-kix_q2sj0bh0in75-1>li:before{content:"\0025cb  "}.lst-kix_q2sj0bh0in75-4>li:before{content:"\0025cb  "}.lst-kix_q2sj0bh0in75-5>li:before{content:"\0025a0  "}ul.lst-kix_a39j13eaky3e-5{list-style-type:none}ul.lst-kix_haja03ewxrws-1{list-style-type:none}ul.lst-kix_a39j13eaky3e-6{list-style-type:none}ul.lst-kix_haja03ewxrws-0{list-style-type:none}ul.lst-kix_a39j13eaky3e-7{list-style-type:none}ul.lst-kix_a39j13eaky3e-8{list-style-type:none}.lst-kix_q2sj0bh0in75-8>li:before{content:"\0025a0  "}.lst-kix_icj2abmwolb-1>li:before{content:"\0025cb  "}.lst-kix_q2sj0bh0in75-6>li:before{content:"\0025cf  "}.lst-kix_q2sj0bh0in75-7>li:before{content:"\0025cb  "}.lst-kix_icj2abmwolb-0>li:before{content:"\0025cf  "}.lst-kix_icj2abmwolb-2>li:before{content:"\0025a0  "}.lst-kix_icj2abmwolb-5>li:before{content:"\0025a0  "}.lst-kix_icj2abmwolb-4>li:before{content:"\0025cb  "}.lst-kix_icj2abmwolb-6>li:before{content:"\0025cf  "}.lst-kix_icj2abmwolb-3>li:before{content:"\0025cf  "}.lst-kix_icj2abmwolb-7>li:before{content:"\0025cb  "}.lst-kix_a39j13eaky3e-0>li:before{content:"\0025cf  "}ul.lst-kix_ur89yz2gei6m-1{list-style-type:none}ul.lst-kix_ur89yz2gei6m-0{list-style-type:none}.lst-kix_a39j13eaky3e-2>li:before{content:"\0025a0  "}.lst-kix_a39j13eaky3e-1>li:before{content:"\0025cb  "}.lst-kix_a39j13eaky3e-3>li:before{content:"\0025cf  "}ul.lst-kix_ur89yz2gei6m-3{list-style-type:none}ul.lst-kix_ur89yz2gei6m-2{list-style-type:none}ul.lst-kix_ur89yz2gei6m-5{list-style-type:none}.lst-kix_icj2abmwolb-8>li:before{content:"\0025a0  "}ul.lst-kix_ur89yz2gei6m-4{list-style-type:none}ul.lst-kix_ur89yz2gei6m-7{list-style-type:none}ul.lst-kix_ur89yz2gei6m-6{list-style-type:none}ul.lst-kix_ur89yz2gei6m-8{list-style-type:none}.lst-kix_wj8ppb1qev0y-1>li:before{content:"\0025cb  "}.lst-kix_wj8ppb1qev0y-0>li:before{content:"\0025cf  "}.lst-kix_wj8ppb1qev0y-2>li:before{content:"\0025a0  "}.lst-kix_wj8ppb1qev0y-3>li:before{content:"\0025cf  "}ul.lst-kix_icj2abmwolb-5{list-style-type:none}ul.lst-kix_icj2abmwolb-6{list-style-type:none}ul.lst-kix_icj2abmwolb-7{list-style-type:none}ul.lst-kix_icj2abmwolb-8{list-style-type:none}ul.lst-kix_icj2abmwolb-1{list-style-type:none}ul.lst-kix_icj2abmwolb-2{list-style-type:none}ul.lst-kix_icj2abmwolb-3{list-style-type:none}ul.lst-kix_icj2abmwolb-4{list-style-type:none}.lst-kix_szot0vr5mbdu-8>li:before{content:"\0025a0  "}.lst-kix_quia5hp1h2l5-1>li:before{content:"\0025cb  "}.lst-kix_mhftwzn69gv3-0>li:before{content:"\0025cf  "}.lst-kix_mhftwzn69gv3-2>li:before{content:"\0025a0  "}ul.lst-kix_sj1bjrq55u4q-8{list-style-type:none}.lst-kix_auwymz1euex7-3>li:before{content:"\0025cf  "}.lst-kix_wj8ppb1qev0y-7>li:before{content:"\0025cb  "}.lst-kix_auwymz1euex7-1>li:before{content:"\0025cb  "}.lst-kix_wj8ppb1qev0y-5>li:before{content:"\0025a0  "}.lst-kix_szot0vr5mbdu-4>li:before{content:"\0025cb  "}ul.lst-kix_sj1bjrq55u4q-3{list-style-type:none}ul.lst-kix_sj1bjrq55u4q-2{list-style-type:none}.lst-kix_mhftwzn69gv3-4>li:before{content:"\0025cb  "}.lst-kix_mhftwzn69gv3-6>li:before{content:"\0025cf  "}ul.lst-kix_sj1bjrq55u4q-1{list-style-type:none}ul.lst-kix_sj1bjrq55u4q-0{list-style-type:none}.lst-kix_uj5jmji1h5hp-6>li:before{content:"\0025cf  "}.lst-kix_uj5jmji1h5hp-8>li:before{content:"\0025a0  "}.lst-kix_szot0vr5mbdu-2>li:before{content:"\0025a0  "}ul.lst-kix_sj1bjrq55u4q-7{list-style-type:none}ul.lst-kix_sj1bjrq55u4q-6{list-style-type:none}.lst-kix_quia5hp1h2l5-3>li:before{content:"\0025cf  "}ul.lst-kix_sj1bjrq55u4q-5{list-style-type:none}ul.lst-kix_sj1bjrq55u4q-4{list-style-type:none}.lst-kix_dvmt8fr3z8q-8>li:before{content:"\0025a0  "}.lst-kix_uj5jmji1h5hp-2>li:before{content:"\0025a0  "}.lst-kix_uj5jmji1h5hp-4>li:before{content:"\0025cb  "}.lst-kix_dvmt8fr3z8q-4>li:before{content:"\0025cb  "}.lst-kix_szot0vr5mbdu-6>li:before{content:"\0025cf  "}.lst-kix_dvmt8fr3z8q-6>li:before{content:"\0025cf  "}.lst-kix_haja03ewxrws-4>li:before{content:"\0025cb  "}.lst-kix_dvmt8fr3z8q-0>li:before{content:"\0025cf  "}.lst-kix_haja03ewxrws-2>li:before{content:"\0025a0  "}.lst-kix_haja03ewxrws-6>li:before{content:"\0025cf  "}ul.lst-kix_13vhbl7wwbkg-3{list-style-type:none}ul.lst-kix_13vhbl7wwbkg-2{list-style-type:none}ul.lst-kix_13vhbl7wwbkg-1{list-style-type:none}ul.lst-kix_13vhbl7wwbkg-0{list-style-type:none}.lst-kix_haja03ewxrws-0>li:before{content:"\0025cf  "}.lst-kix_haja03ewxrws-8>li:before{content:"\0025a0  "}ul.lst-kix_13vhbl7wwbkg-7{list-style-type:none}ul.lst-kix_13vhbl7wwbkg-6{list-style-type:none}ul.lst-kix_13vhbl7wwbkg-5{list-style-type:none}.lst-kix_ur89yz2gei6m-2>li:before{content:"\0025a0  "}ul.lst-kix_13vhbl7wwbkg-4{list-style-type:none}.lst-kix_uj5jmji1h5hp-0>li:before{content:"\0025cf  "}.lst-kix_dvmt8fr3z8q-2>li:before{content:"\0025a0  "}ul.lst-kix_13vhbl7wwbkg-8{list-style-type:none}.lst-kix_szot0vr5mbdu-0>li:before{content:"\0025cf  "}ul.lst-kix_q2sj0bh0in75-8{list-style-type:none}.lst-kix_mhftwzn69gv3-8>li:before{content:"\0025a0  "}.lst-kix_quia5hp1h2l5-7>li:before{content:"\0025cb  "}.lst-kix_a39j13eaky3e-5>li:before{content:"\0025a0  "}.lst-kix_a39j13eaky3e-7>li:before{content:"\0025cb  "}.lst-kix_ur89yz2gei6m-4>li:before{content:"\0025cb  "}.lst-kix_ur89yz2gei6m-6>li:before{content:"\0025cf  "}ul.lst-kix_q2sj0bh0in75-6{list-style-type:none}ul.lst-kix_q2sj0bh0in75-7{list-style-type:none}ul.lst-kix_q2sj0bh0in75-4{list-style-type:none}ul.lst-kix_q2sj0bh0in75-5{list-style-type:none}ul.lst-kix_q2sj0bh0in75-2{list-style-type:none}ul.lst-kix_q2sj0bh0in75-3{list-style-type:none}.lst-kix_quia5hp1h2l5-5>li:before{content:"\0025a0  "}ul.lst-kix_q2sj0bh0in75-0{list-style-type:none}ul.lst-kix_q2sj0bh0in75-1{list-style-type:none}.lst-kix_ur89yz2gei6m-8>li:before{content:"\0025a0  "}.lst-kix_auwymz1euex7-5>li:before{content:"\0025a0  "}.lst-kix_auwymz1euex7-7>li:before{content:"\0025cb  "}.lst-kix_35rmg8do8q9m-8>li:before{content:"\0025a0  "}.lst-kix_35rmg8do8q9m-6>li:before{content:"\0025cf  "}.lst-kix_sj1bjrq55u4q-1>li:before{content:"\0025cb  "}ul.lst-kix_szot0vr5mbdu-5{list-style-type:none}ul.lst-kix_szot0vr5mbdu-4{list-style-type:none}ul.lst-kix_szot0vr5mbdu-3{list-style-type:none}ul.lst-kix_szot0vr5mbdu-2{list-style-type:none}ul.lst-kix_szot0vr5mbdu-1{list-style-type:none}ul.lst-kix_szot0vr5mbdu-0{list-style-type:none}.lst-kix_35rmg8do8q9m-4>li:before{content:"\0025cb  "}.lst-kix_sj1bjrq55u4q-3>li:before{content:"\0025cf  "}.lst-kix_sj1bjrq55u4q-7>li:before{content:"\0025cb  "}.lst-kix_35rmg8do8q9m-2>li:before{content:"\0025a0  "}.lst-kix_sj1bjrq55u4q-5>li:before{content:"\0025a0  "}ul.lst-kix_szot0vr5mbdu-8{list-style-type:none}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}ul.lst-kix_szot0vr5mbdu-7{list-style-type:none}ul.lst-kix_szot0vr5mbdu-6{list-style-type:none}ol{margin:0;padding:0}table td,table th{padding:0}.c20{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:540pt;border-top-color:#000000;border-bottom-style:solid}.c26{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:117pt;border-top-color:#000000;border-bottom-style:solid}.c31{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:423pt;border-top-color:#000000;border-bottom-style:solid}.c12{-webkit-text-decoration-skip:none;color:#1155cc;font-weight:400;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:11pt;font-family:"Arial";font-style:normal}.c23{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c10{color:#666666;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c28{padding-top:18pt;padding-bottom:10pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c4{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c22{color:#434343;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c8{margin-left:36pt;padding-top:3pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c27{padding-top:12pt;padding-bottom:10pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c6{padding-top:16pt;padding-bottom:10pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c9{padding-top:14pt;padding-bottom:10pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c19{margin-left:18pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c32{padding-top:12pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c37{padding-top:10pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c17{margin-left:54pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c16{color:#666666;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c35{padding-top:10pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c33{padding-top:4pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c3{padding-top:0pt;padding-bottom:10pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c21{padding-top:10pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c24{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c30{padding-top:3pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c34{padding-top:0pt;padding-bottom:10pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c11{padding-top:10pt;padding-bottom:10pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c15{border-spacing:0;border-collapse:collapse;margin-right:auto}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c36{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c40{background-color:#ffffff;max-width:540pt;padding:72pt 31.5pt 72pt 40.5pt}.c39{border-spacing:0;border-collapse:collapse;margin-right:auto}.c13{padding:0;margin:0}.c7{color:inherit;text-decoration:inherit}.c5{margin-left:36pt;padding-left:0pt}.c29{height:40.6pt}.c1{font-weight:700}.c25{height:0pt}.c38{page-break-after:avoid}.c14{margin-left:36pt}.c18{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c40 doc-content"><p class="c3 c18"><span class="c4"></span></p><p class="c33"><span class="c12"><a class="c7" href="#h.bi83pmucta76">Containers</a></span></p><p class="c19"><span class="c12"><a class="c7" href="#h.bm2vniazslx5">Virtual Machine VS Containers</a></span></p><p class="c19"><span class="c12"><a class="c7" href="#h.ev9qdm73674g">Container tools</a></span></p><p class="c21"><span class="c12"><a class="c7" href="#h.lypyrajy565t">Docker</a></span></p><p class="c19"><span class="c12"><a class="c7" href="#h.67vxwscmlnh6">The underlying technology</a></span></p><p class="c19"><span class="c12"><a class="c7" href="#h.e3tl20c2qzza">Docker Image</a></span></p><p class="c19"><span class="c12"><a class="c7" href="#h.y9v9u11ra8v7">Docker Container</a></span></p><p class="c19"><span class="c12"><a class="c7" href="#h.fqndvaj0mjj6">Runtime options</a></span></p><p class="c21"><span class="c12"><a class="c7" href="#h.hw7vjx2blol7">Docker-compose</a></span></p><p class="c19"><span class="c12"><a class="c7" href="#h.qhdtayrkuidp">Common use cases</a></span></p><p class="c19"><span class="c12"><a class="c7" href="#h.wzgkkof6lvsi">Service</a></span></p><p class="c19"><span class="c12"><a class="c7" href="#h.xktztitxtxrd">Volumes</a></span></p><p class="c19"><span class="c12"><a class="c7" href="#h.blhajg5kew60">Declaring Dependencies</a></span></p><p class="c19"><span class="c12"><a class="c7" href="#h.jchmok61ssxm">Environment Variables</a></span></p><p class="c19"><span class="c12"><a class="c7" href="#h.cv266cshg7ei">Startup and Shutdown</a></span></p><p class="c21"><span class="c12"><a class="c7" href="#h.cm9yx9d4k4gv">Kubernetes</a></span></p><p class="c19"><span class="c12"><a class="c7" href="#h.c0ompto6ey3h">Kubernetes is not</a></span></p><p class="c19"><span class="c12"><a class="c7" href="#h.upwhmnkwcqk5">Kubernetes Components</a></span></p><p class="c14 c30"><span class="c12"><a class="c7" href="#h.etzvrwrbitbe">Control plane components</a></span></p><p class="c17"><span class="c12"><a class="c7" href="#h.wwrihrakc0zf">kube-apiserver</a></span></p><p class="c17"><span class="c12"><a class="c7" href="#h.8x5ffahwtp9q">etcd</a></span></p><p class="c17"><span class="c12"><a class="c7" href="#h.ttmfovxjmajs">kube-scheduler</a></span></p><p class="c17"><span class="c12"><a class="c7" href="#h.8y5zccwb7d2d">kube-controller-manager</a></span></p><p class="c17"><span class="c12"><a class="c7" href="#h.uibpn72jzlri">cloud-controller-manager</a></span></p><p class="c30 c14"><span class="c12"><a class="c7" href="#h.yntpum6kaaw5">Node components</a></span></p><p class="c17"><span class="c12"><a class="c7" href="#h.bekgv02c5rkb">kubelet</a></span></p><p class="c17"><span class="c12"><a class="c7" href="#h.r59groqifoun">kube-proxy</a></span></p><p class="c17"><span class="c12"><a class="c7" href="#h.tapvvgymkikk">Container runtime</a></span></p><p class="c30 c14"><span class="c12"><a class="c7" href="#h.mth8i6fofp08">Addons</a></span></p><p class="c17"><span class="c12"><a class="c7" href="#h.nylx5w31iste">DNS</a></span></p><p class="c17"><span class="c12"><a class="c7" href="#h.5enrq3x5p5zu">Web UI (Dashboard)</a></span></p><p class="c17"><span class="c12"><a class="c7" href="#h.sdoq54mxj2bq">Container Resource Monitoring</a></span></p><p class="c17"><span class="c12"><a class="c7" href="#h.5awmj6aik9pn">Cluster-level Logging</a></span></p><p class="c19"><span class="c12"><a class="c7" href="#h.ndkdwjh2goxs">Cluster architecture</a></span></p><p class="c30 c14"><span class="c12"><a class="c7" href="#h.s7oeo5b85ghz">Nodes</a></span></p><p class="c30 c14"><span class="c12"><a class="c7" href="#h.p5i0jtu1cgb4">Pods</a></span></p><p class="c8"><span class="c12"><a class="c7" href="#h.c2x37snzlcko">Services</a></span></p><p class="c2 c18"><span class="c4"></span></p><p class="c3 c18"><span class="c4"></span></p><h2 class="c28" id="h.bi83pmucta76"><span class="c23">Containers</span></h2><h3 class="c6" id="h.bm2vniazslx5"><span class="c22">Virtual Machine VS Containers</span></h3><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 222.67px;"><img alt="" src="images/image5.png" style="width: 624.00px; height: 222.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c4">Each virtual machine contains a guest OS, a virtual copy of the hardware that the OS requires to run and an application and its associated libraries and dependencies. </span></p><p class="c3"><span class="c1">Instead of virtualizing the underlying hardware, containers virtualize the operating system</span><span class="c4">&nbsp;(typically Linux or Windows) so each individual container contains only the application and its libraries and dependencies. Containers are small, fast, and portable because, unlike a virtual machine, containers do not need to include a guest OS in every instance and can, instead, simply leverage the features and resources of the host OS. </span></p><p class="c3"><span class="c4">Just like virtual machines, containers allow developers to improve CPU and memory utilization of physical machines. Containers go even further, however, because they also enable microservice architectures, where application components can be deployed and scaled more granularly. This is an attractive alternative to having to scale up an entire monolithic application because a single component is struggling with load.</span></p><p class="c3"><span class="c4">Containers are similar to VMs, but they have relaxed isolation properties to share the Operating System (OS) among the applications. Therefore, containers are considered lightweight. Similar to a VM, a container has its own filesystem, share of CPU, memory, process space, and more. As they are decoupled from the underlying infrastructure, they are portable across clouds and OS distributions.</span></p><p class="c3"><span class="c4">Containers benefits:</span></p><ul class="c13 lst-kix_35rmg8do8q9m-0 start"><li class="c3 c5 li-bullet-0"><span class="c4">Agile application creation and deployment: increased ease and efficiency of container image creation compared to VM image use.</span></li><li class="c3 c5 li-bullet-0"><span>Continuous development, integration, and deployment: provides for reliable and frequent container image build and deployment with quick and efficient rollbacks (due to </span><span class="c1">image immutability</span><span class="c4">).</span></li><li class="c3 c5 li-bullet-0"><span class="c4">Dev and Ops separation of concerns: create application container images at build/release time rather than deployment time, thereby decoupling applications from infrastructure.</span></li><li class="c3 c5 li-bullet-0"><span class="c4">Observability: not only surfaces OS-level information and metrics, but also application health and other signals.</span></li><li class="c3 c5 li-bullet-0"><span class="c1">Environmental consistency</span><span class="c4">&nbsp;across development, testing, and production: Runs the same on a laptop as it does in the cloud.</span></li><li class="c3 c5 li-bullet-0"><span>Cloud and OS </span><span class="c1">distribution portability</span><span class="c4">: Runs on Ubuntu, RHEL, CoreOS, on-premises, on major public clouds, and anywhere else.</span></li><li class="c3 c5 li-bullet-0"><span class="c4">Application-centric management: Raises the level of abstraction from running an OS on virtual hardware to running an application on an OS using logical resources.</span></li><li class="c3 c5 li-bullet-0"><span class="c4">Loosely coupled, distributed, elastic, liberated micro-services: applications are broken into smaller, independent pieces and can be deployed and managed dynamically &ndash; not a monolithic stack running on one big single-purpose machine.</span></li><li class="c3 c5 li-bullet-0"><span class="c4">Resource isolation: predictable application performance.</span></li><li class="c3 c5 li-bullet-0"><span class="c4">Resource utilization: high efficiency and density.</span></li></ul><h3 class="c6" id="h.ev9qdm73674g"><span class="c22">Container tools</span></h3><p class="c3"><span class="c4">https://www.tutorialworks.com/difference-docker-containerd-runc-crio-oci/</span></p><p class="c3"><span class="c4">Containers are no longer tightly coupled with the name Docker. There is a whole set of container tools out there, docker being one of them, and Docker (the company) backing some of them, but not all.</span></p><p class="c3"><span class="c4">The container ecosystem is made up of lots of exciting tech, plenty of jargon, and big companies fighting each other. Fortunately, these companies occasionally come together in a fragile truce to agree to some standards. These standards help to make the ecosystem more interoperable, across different platforms and operating systems, and less reliant on one single company or project.</span></p><p class="c3"><span class="c4">The main standards to be aware of are:</span></p><ul class="c13 lst-kix_sj1bjrq55u4q-0 start"><li class="c3 c5 li-bullet-0"><span>the </span><span class="c1">Kubernetes Container Runtime Interface</span><span class="c4">&nbsp;(CRI), which defines an API between Kubernetes and the container runtime</span></li><li class="c3 c5 li-bullet-0"><span>the </span><span class="c1">Open Container Initiative</span><span class="c4">&nbsp;(OCI) which publishes specifications for images and containers.</span></li></ul><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 720.00px; height: 216.00px;"><img alt="" src="images/image2.png" style="width: 720.00px; height: 216.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><hr style="page-break-before:always;display:none;"></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 528.64px; height: 890.50px;"><img alt="" src="images/image8.png" style="width: 528.64px; height: 890.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h2 class="c28" id="h.lypyrajy565t"><span class="c23">Docker</span></h2><p class="c3"><span class="c4">Docker provides the ability to package and run an application in a loosely isolated environment called a container. The isolation and security allow you to run many containers simultaneously on a given host. Containers are lightweight and contain everything needed to run the application, so you do not need to rely on what is currently installed on the host. You can easily share containers while you work, and be sure that everyone you share with gets the same container that works in the same way.</span></p><p class="c3"><span class="c4">Docker provides tooling and a platform to manage the lifecycle of your containers:</span></p><ul class="c13 lst-kix_q2sj0bh0in75-0 start"><li class="c3 c5 li-bullet-0"><span class="c1">Develop</span><span class="c4">&nbsp;your application and its supporting components using containers.</span></li><li class="c3 c5 li-bullet-0"><span>The container becomes the </span><span class="c1">unit for distributing and testing</span><span class="c4">&nbsp;your application.</span></li><li class="c3 c5 li-bullet-0"><span>When you&rsquo;re ready, </span><span class="c1">deploy</span><span class="c4">&nbsp;your application into your production environment, as a container or an orchestrated service. This works the same whether your production environment is a local data center, a cloud provider, or a hybrid of the two.</span></li></ul><p class="c3"><span class="c1">docker</span><span class="c4">&nbsp;is designed to be installed on a workstation or server and comes with a bunch of tools to make it easy to build and run containers as a developer, or DevOps person.</span></p><p class="c3"><span class="c4">The docker command line tool can build container images, pull them from registries, create, start and manage containers.</span></p><p class="c3"><span class="c4">To make all of this happen, the experience you know as docker is now comprised of these projects (there are others, but these are the main ones):</span></p><ul class="c13 lst-kix_ur89yz2gei6m-0 start"><li class="c3 c5 li-bullet-0"><span class="c1">docker-cli</span><span>: This is the command-line utility that you interact with using </span><span class="c1">docker</span><span class="c4">&nbsp;commands. It is the primary way that many Docker users interact with Docker. When you use commands such as docker run, the client sends these commands to dockerd, which carries them out. The docker command uses the Docker API. The Docker client can communicate with more than one daemon</span></li><li class="c3 c5 li-bullet-0"><span class="c1">dockerd</span><span>: The docker high-level daemon</span><span class="c4">&nbsp;listens for Docker API requests and manages Docker objects such as images, containers, networks, and volumes. A daemon can also communicate with other daemons to manage Docker services.</span></li><li class="c3 c5 li-bullet-0"><span class="c1">containerd</span><span class="c4">: This is a daemon process listening on a Unix socket, exposes gRPC endpoints. It manages and runs containers. Handles low-level container management tasks - pushes and pulls images, manages storage and networking, and supervises the running of containers.</span></li><li class="c3 c5 li-bullet-0"><span class="c1">runc</span><span class="c4">: This is the low-level container runtime (the thing that actually creates and runs containers). It includes libcontainer, a native Go-based implementation for creating containers. It deals with the low-level interfacing with Linux capabilities like cgroups, namespaces, etc.</span></li></ul><p class="c3"><span>In reality, when you run a container with docker, you&rsquo;re actually running it through the Docker daemon, containerd, and then runc.</span></p><p class="c3"><span>Other </span><span>docker components that are worth mentioning:</span></p><ul class="c13 lst-kix_e02lrg7of0hx-0 start"><li class="c3 c5 li-bullet-0"><span>(docker-)</span><span class="c1">containerd-ctr</span><span class="c4">&nbsp;- A lightweight CLI to directly communicate with containerd. Think of it as how &#39;docker&#39; is to &#39;dockerd&#39;.</span></li><li class="c3 c5 li-bullet-0"><span>(docker-)</span><span class="c1">containerd-shim</span><span class="c4">&nbsp;- After runC actually runs the container, it exits (allowing us to not have any long-running processes responsible for our containers). The shim is the component which sits between containerd and runc to facilitate this.</span></li></ul><h3 class="c11 c38" id="h.67vxwscmlnh6"><span class="c22">The underlying technology</span></h3><p class="c11"><span>Docker is written in the </span><span class="c1">Go programming language</span><span>&nbsp;and takes advantage of several features of the Linux kernel to deliver its functionality. Docker uses a technology called </span><span class="c1">namespaces</span><span class="c4">&nbsp;to provide the isolated workspace called the container. When you run a container, Docker creates a set of namespaces for that container.</span></p><p class="c11"><span>These namespaces provide a layer of isolation. Each aspect of a container runs in a separate namespace and its access is limited to that namespace.</span></p><h3 class="c6" id="h.e3tl20c2qzza"><span class="c22">Docker Image</span></h3><p class="c3"><span class="c36"><a class="c7" href="https://www.google.com/url?q=https://www.scalyr.com/blog/create-docker-image/&amp;sa=D&amp;source=editors&amp;ust=1657549439071562&amp;usg=AOvVaw045PPXE071lxzTPKeH2XOe">https://www.scalyr.com/blog/create-docker-image/</a></span><span class="c4">&nbsp;</span></p><p class="c3"><span>A Docker image is a file used to execute code in a Docker container. Docker images act as a </span><span class="c1">set of instructions</span><span>&nbsp;to build a Docker container, like a template. Docker images also act as the starting point when using Docker. An </span><span class="c1">image is comparable to a snapshot in virtual machine (VM)</span><span class="c4">&nbsp;environments.</span></p><p class="c3"><span>Docker is used to create, run and deploy applications in containers. A Docker image contains </span><span class="c1">application code, libraries, tools, dependencies and other files needed to make an application run</span><span class="c4">. When a user runs an image, it can become one or many instances of a container.</span></p><p class="c3"><span>A Docker image is like a snapshot in other types of VM environments. It is a </span><span class="c1">record of a Docker container</span><span class="c4">&nbsp;at a specific point in time. </span></p><p class="c3"><span class="c1">Docker images are also immutable</span><span class="c4">. While they can&#39;t be changed, they can be duplicated, shared or deleted. The feature is useful for testing new software or configurations because whatever happens, the image remains unchanged.</span></p><p class="c3"><span class="c4">A Docker image has many layers, and each image includes everything needed to configure a container environment - system libraries, tools, dependencies and other files. Some of the parts of an image include:</span></p><ul class="c13 lst-kix_szot0vr5mbdu-0 start"><li class="c3 c5 li-bullet-0"><span class="c1">Base image</span><span class="c4">. The user can build this first layer entirely from scratch with the build command.</span></li><li class="c3 c5 li-bullet-0"><span class="c1">Parent image</span><span class="c4">. As an alternative to a base image, a parent image can be the first layer in a Docker image. It is a reused image that serves as a foundation for all other layers.</span></li><li class="c3 c5 li-bullet-0"><span class="c1">Layers</span><span class="c4">. Layers are added to the base image, using code that will enable it to run in a container. Each layer of a Docker image is viewable under /var/lib/docker/aufs/diff, or via the Docker history command in the command-line interface (CLI). Docker&#39;s default status is to show all top-layer images, including repository, tags and file sizes. Intermediate layers are cached, making top layers easier to view. Docker has storage drives that handle the management of image layer contents.</span></li><li class="c3 c5 li-bullet-0"><span class="c1">Container layer</span><span class="c4">. A Docker image not only creates a new container, but also a writable or container layer. This layer hosts changes made to the running container and stores newly written and deleted files, as well as changes to existing files. This layer is also used to customize containers.</span></li><li class="c3 c5 li-bullet-0"><span class="c1">Docker manifest</span><span class="c4">. This part of the Docker image is an additional file. It uses JSON format to describe the image, using information such as image tags and digital signature.</span></li></ul><p class="c3"><span class="c4">There are two ways to create a Docker Image:</span></p><ul class="c13 lst-kix_auwymz1euex7-0 start"><li class="c3 c5 li-bullet-0"><span class="c1">Interactive method</span><span>&nbsp;- users run a container from an existing Docker image and manually make any needed changes to the environment before saving the image with </span><span class="c1">docker commit</span><span class="c4">.</span></li><li class="c3 c5 li-bullet-0"><span class="c1">Dockerfile method</span><span>&nbsp;- this approach requires making a plain text Dockerfile. The Dockerfile makes the </span><span class="c1">specifications</span><span>&nbsp;for creating an image. This process is more difficult and time-consuming, but it does well in continuous delivery environments. The method includes creating the Dockerfile and adding the commands needed for the image. Once the Dockerfile is started, the user sets up a .dockerignore file to exclude any files not needed for the final build. The .dockerignore file is in the root directory. Next, the </span><span class="c1">docker build</span><span class="c4">&nbsp;command is used to create a Docker image and an image name and tag are set.</span></li></ul><p class="c3"><span class="c1">A Docker registry</span><span class="c4">&nbsp;stores Docker images. Docker Hub is a public registry that anyone can use, and Docker is configured to look for images on Docker Hub by default. You can even run your own private registry. When you use the docker pull or docker run commands, the required images are pulled from your configured registry. When you use the docker push command, your image is pushed to your configured registry.</span></p><a id="t.1dcef174464049922bda0b96ebb27cda7f6ef996"></a><a id="t.0"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span>The concept of a </span><span class="c1">latest</span><span class="c4">&nbsp;image may cause confusion. Docker images tagged with &quot;:latest&quot; are not necessarily the latest in an ordinary sense. The latest tag does not refer to the most recently pushed version of an image; it is simply a default tag.</span></p></td></tr></table><h3 class="c6" id="h.y9v9u11ra8v7"><span class="c22">Docker Container</span></h3><p class="c3"><span>A container is a </span><span class="c1">runnable instance of an image</span><span class="c4">. You can create, start, stop, move, or delete a container using the Docker API or CLI. You can connect a container to one or more networks, attach storage to it, or even create a new image based on its current state.</span></p><p class="c3"><span class="c4">By default, a container is relatively well isolated from other containers and its host machine. You can control how isolated a container&rsquo;s network, storage, or other underlying subsystems are from other containers or from the host machine.</span></p><p class="c11"><span class="c4">A container is defined by its image as well as any configuration options you provide to it when you create or start it. When a container is removed, any changes to its state that are not stored in persistent storage disappear.</span></p><p class="c11"><span class="c4">The following command runs an ubuntu container, attaches interactively to your local command-line session, and runs /bin/bash:</span></p><a id="t.dc712c11d69093c19a7d32d77cfc9f184a4fe413"></a><a id="t.1"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c2"><span class="c4">docker run -i -t ubuntu /bin/bash</span></p></td></tr></table><p class="c11"><span class="c4">When you run this command, the following happens (assuming you are using the default registry configuration):</span></p><ul class="c13 lst-kix_uj5jmji1h5hp-0 start"><li class="c11 c5 li-bullet-0"><span>If you do not have the ubuntu image locally, Docker </span><span class="c1">pulls</span><span class="c4">&nbsp;it from your configured registry, as though you had run docker pull ubuntu manually.</span></li><li class="c11 c5 li-bullet-0"><span>Docker </span><span class="c1">creates a new container</span><span class="c4">, as though you had run a docker container create command manually.</span></li><li class="c11 c5 li-bullet-0"><span>Docker </span><span class="c1">allocates a read-write filesystem</span><span class="c4">&nbsp;to the container, as its final layer. This allows a running container to create or modify files and directories in its local filesystem.</span></li><li class="c11 c5 li-bullet-0"><span>Docker </span><span class="c1">creates a network interface</span><span class="c4">&nbsp;to connect the container to the default network, since you did not specify any networking options. This includes assigning an IP address to the container. By default, containers can connect to external networks using the host machine&rsquo;s network connection.</span></li><li class="c11 c5 li-bullet-0"><span>Docker </span><span class="c1">starts the container and executes /bin/bash</span><span class="c4">. Because the container is running interactively and attached to your terminal (due to the -i and -t flags), you can provide input using your keyboard while the output is logged to your terminal.</span></li><li class="c11 c5 li-bullet-0"><span>When you type exit to terminate the /bin/bash command, the container </span><span class="c1">stops but is not removed</span><span class="c4">. You can start it again or remove it.</span></li></ul><p class="c11 c18"><span class="c4"></span></p><p class="c11"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 720.00px; height: 305.33px;"><img alt="" src="images/image3.png" style="width: 720.00px; height: 305.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h3 class="c6" id="h.fqndvaj0mjj6"><span class="c22">Runtime options</span></h3><p class="c3"><span>By default, a </span><span class="c1">container has no resource constraints</span><span>&nbsp;and can use as much of a given resource as the host&rsquo;s kernel scheduler allows. Docker provides ways to control how much memory, or CPU a container can use, setting runtime configuration flags of the docker </span><span class="c1">run</span><span class="c4">&nbsp;command, some of them are below:</span></p><a id="t.301adfabb4a360b63d8ecb6c4dde6bc581cbb9be"></a><a id="t.2"></a><table class="c15"><tr class="c29"><td class="c26" colspan="1" rowspan="1"><p class="c2"><span class="c4">-m or --memory</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c2"><span class="c4">The maximum amount of memory the container can use. If you set this option, the minimum allowed value is 6m (6 megabyte)</span></p></td></tr><tr class="c29"><td class="c26" colspan="1" rowspan="1"><p class="c2"><span class="c4">--memory-reservation</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c2"><span>Allows you to specify a </span><span class="c1">soft limit</span><span class="c4">&nbsp;smaller than --memory which is activated when Docker detects contention or low memory on the host machine. If you use --memory-reservation, it must be set lower than --memory for it to take precedence. Because it is a soft limit, it does not guarantee that the container doesn&rsquo;t exceed the limit.</span></p></td></tr><tr class="c29"><td class="c26" colspan="1" rowspan="1"><p class="c2"><span class="c4">--cpus</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c2"><span class="c4">Specify how much of the available CPU resources a container can use. For instance, if the host machine has two CPUs and you set --cpus=&quot;1.5&quot;, the container is guaranteed at most one and a half of the CPUs. This is the equivalent of setting --cpu-period=&quot;100000&quot; and --cpu-quota=&quot;150000&quot;</span></p></td></tr><tr class="c29"><td class="c26" colspan="1" rowspan="1"><p class="c2"><span class="c4">--cpu-shares</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c2"><span>Set this flag to a value greater or less than the default of 1024 to increase or reduce the </span><span class="c1">container&rsquo;s weight</span><span>, and give it access to a greater or lesser proportion of the host machine&rsquo;s CPU cycles. This is only enforced when CPU cycles are constrained. When plenty of CPU cycles are available, all containers use as much CPU as they need. In that way, this is a </span><span class="c24 c1">soft limit</span></p></td></tr></table><h2 class="c28" id="h.hw7vjx2blol7"><span class="c23">Docker-compose</span></h2><p class="c3"><span class="c4">When using Docker extensively, the management of several different containers quickly becomes cumbersome. </span></p><p class="c3"><span class="c1">Docker Compose</span><span>&nbsp;is a tool for defining and </span><span>running </span><span class="c1">multi-container Docker applications</span><span>. With Compose, you use a </span><span class="c1">YAML</span><span class="c4">&nbsp;file to configure your application&rsquo;s services. Then, with a single command, you create and start all the services from your configuration. To learn more about all the features of Compose, see the list of features.</span></p><p class="c3"><span class="c4">Using Compose is basically a three-step process:</span></p><ul class="c13 lst-kix_dvmt8fr3z8q-0 start"><li class="c3 c5 li-bullet-0"><span>Define your app&rsquo;s environment with a </span><span class="c1">Dockerfile</span><span class="c4">&nbsp;so it can be reproduced anywhere.</span></li><li class="c3 c5 li-bullet-0"><span>Define the services that make up your app in </span><span class="c1">docker-compose.yml</span><span class="c4">&nbsp;so they can be run together in an isolated environment.</span></li><li class="c3 c5 li-bullet-0"><span>Run </span><span class="c1">docker compose up</span><span>&nbsp;and the Docker compose command starts and runs your entire app. You can alternatively run </span><span class="c1">docker-compose up</span><span class="c4">&nbsp;using the docker-compose binary.</span></li></ul><p class="c3"><span class="c4">A docker-compose.yml looks like this:</span></p><a id="t.1fe40fdec46f7d127a3cb5d75dc4f378d9c2944b"></a><a id="t.3"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">version: &quot;3.9&quot; &nbsp;# optional since v1.27.0</span></p><p class="c0"><span class="c4">services:</span></p><p class="c0"><span class="c4">&nbsp; web:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; build: .</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; ports:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &nbsp; - &quot;5000:5000&quot;</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; volumes:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &nbsp; - .:/code</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &nbsp; - logvolume01:/var/log</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; links:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &nbsp; - redis</span></p><p class="c0"><span class="c4">&nbsp; redis:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; image: redis</span></p><p class="c0"><span class="c4">volumes:</span></p><p class="c0"><span class="c4">&nbsp; logvolume01: {}</span></p></td></tr></table><p class="c11"><span class="c4">Compose has commands for managing the whole lifecycle of your application:</span></p><ul class="c13 lst-kix_h11e7qrq4400-0 start"><li class="c3 c5 li-bullet-0"><span class="c4">Start, stop, and rebuild services</span></li><li class="c3 c5 li-bullet-0"><span class="c4">View the status of running services</span></li><li class="c3 c5 li-bullet-0"><span class="c4">Stream the log output of running services</span></li><li class="c3 c5 li-bullet-0"><span class="c4">Run a one-off command on a service</span></li></ul><p class="c3"><span>Compose preserves all volumes used by your services. When </span><span class="c1">docker-compose up</span><span>&nbsp;runs, if it finds any containers from previous runs, </span><span>it</span><span class="c1">&nbsp;copies the volumes from the old container to the new container</span><span class="c4">. This process ensures that any data you&rsquo;ve created in volumes isn&rsquo;t lost.</span></p><p class="c3"><span>Only recreate containers that have changed: compose caches the configuration used to create a container. When you restart a service that has not changed, Compose </span><span class="c1">re-uses the existing containers</span><span class="c4">. Re-using containers means that you can make changes to your environment very quickly</span></p><h3 class="c6" id="h.qhdtayrkuidp"><span class="c22">Common use cases</span></h3><ul class="c13 lst-kix_mhftwzn69gv3-0 start"><li class="c3 c5 li-bullet-0"><span class="c1">Development environments</span><span class="c4">: When you&rsquo;re developing software, the ability to run an application in an isolated environment and interact with it is crucial. The Compose command line tool can be used to create the environment and interact with it.</span></li></ul><p class="c3 c14"><span class="c4">The Compose file provides a way to document and configure all of the application&rsquo;s service dependencies (databases, queues, caches, web service APIs, etc). Using the Compose command line tool you can create and start one or more containers for each dependency with a single command (docker-compose up).</span></p><p class="c3 c14"><span class="c4">Together, these features provide a convenient way for developers to get started on a project. Compose can reduce a multi-page &ldquo;developer getting started guide&rdquo; to a single machine readable Compose file and a few commands.</span></p><ul class="c13 lst-kix_13vhbl7wwbkg-0 start"><li class="c3 c5 li-bullet-0"><span class="c1">Automated testing environments</span><span class="c4">: An important part of any Continuous Deployment or Continuous Integration process is the automated test suite. Automated end-to-end testing requires an environment in which to run tests. Compose provides a convenient way to create and destroy isolated testing environments for your test suite. By defining the full environment in a Compose file, you can create and destroy these environments in just a few commands:</span></li></ul><a id="t.1279b64162a6c963aa5450b373b8c4794df54d95"></a><a id="t.4"></a><table class="c14 c39"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">&nbsp;docker-compose up -d</span></p><p class="c0"><span class="c4">&nbsp;./run_tests</span></p><p class="c0"><span class="c4">&nbsp;docker-compose down</span></p></td></tr></table><h3 class="c6" id="h.wzgkkof6lvsi"><span class="c22">Service</span></h3><p class="c3"><span class="c4">Sometimes, the image we need for our service has already been published (by us or by others) in Docker Hub, or another Docker Registry. If that&#39;s the case, then we refer to it with the image attribute, by specifying the image name and tag:</span></p><a id="t.7b2a8a562db28d9fe56926503a8f58251f32be2a"></a><a id="t.5"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">services: </span></p><p class="c0"><span class="c4">&nbsp; my-service:</span></p><p class="c0"><span>&nbsp; &nbsp; </span><span class="c1">image</span><span class="c4">: ubuntu:latest</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; ...</span></p></td></tr></table><p class="c11"><span class="c4">Instead, we might need to build an image from the source code by reading its Dockerfile. This time, we&#39;ll use the build keyword, passing the path to the Dockerfile as the value:</span></p><a id="t.62854ad16c4face22ef749bc216328f399160193"></a><a id="t.6"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">services: </span></p><p class="c0"><span class="c4">&nbsp; my-custom-app:</span></p><p class="c0"><span>&nbsp; &nbsp; </span><span class="c1">build</span><span class="c4">: /path/to/dockerfile/</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; ...</span></p></td></tr></table><p class="c11"><span class="c4">We can also use a URL instead of a path:</span></p><a id="t.42dd7e4d6b448cd07825e4fe864ddaa1fa92071b"></a><a id="t.7"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">services: </span></p><p class="c0"><span class="c4">&nbsp; my-custom-app:</span></p><p class="c0"><span>&nbsp; &nbsp; </span><span class="c1">build</span><span class="c4">: https://github.com/my-company/my-project.git</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; ...</span></p></td></tr></table><p class="c11"><span>Docker containers communicate between themselves in </span><span class="c1">networks</span><span class="c4">&nbsp;created, implicitly or through configuration, by Docker Compose. A service can communicate with another service on the same network by simply referencing it by container name and port (for example network-example-service:80), provided that we&#39;ve made the port accessible through the expose keyword:</span></p><a id="t.057e27203280cf888c68023b30057d3dcc8c3f32"></a><a id="t.8"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">services:</span></p><p class="c0"><span class="c4">&nbsp; network-example-service:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; image: karthequian/helloworld:latest</span></p><p class="c0"><span>&nbsp; &nbsp; </span><span class="c1">expose</span><span class="c4">:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &nbsp; - &quot;80&quot;</span></p></td></tr></table><p class="c11"><span>In this case, by the way, </span><span class="c1">it would also work without exposing it</span><span class="c4">, because the expose directive is already in the image Dockerfile.</span></p><p class="c11"><span class="c4">To reach a container from the host, the ports must be exposed declaratively through the ports keyword, which also allows us to choose if exposing the port differently in the host:</span></p><a id="t.d906978ddd5fcf7fdc3e365e8923eefefebf2316"></a><a id="t.9"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">services:</span></p><p class="c0"><span class="c4">&nbsp; network-example-service:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; image: karthequian/helloworld:latest</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; ports:</span></p><p class="c0"><span>&nbsp; &nbsp; &nbsp; - &quot;</span><span class="c1">80:80</span><span class="c4">&quot;</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; ...</span></p><p class="c0"><span class="c4">&nbsp; my-custom-app:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; image: myapp:latest</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; ports:</span></p><p class="c0"><span>&nbsp; &nbsp; &nbsp; - &quot;</span><span class="c1">8080:3000</span><span class="c4">&quot;</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; ...</span></p><p class="c0"><span class="c4">&nbsp; my-custom-app-replica:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; image: myapp:latest</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; ports:</span></p><p class="c0"><span>&nbsp; &nbsp; &nbsp; - &quot;</span><span class="c1">8081:3000</span><span class="c4">&quot;</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; ...</span></p></td></tr></table><p class="c11"><span>Port 80 will now be visible from the host, while port 3000 of the other two containers will be available on ports 8080 and 8081 in the host. This powerful mechanism allows us to </span><span class="c1">run different containers exposing the same ports</span><span class="c4">&nbsp;without collisions.</span></p><p class="c3"><span>Finally, we can define additional </span><span class="c1">virtual networks</span><span class="c4">&nbsp;to segregate our containers:</span></p><a id="t.ee73ad20dec85fafd88ed8916e661449758993d3"></a><a id="t.10"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">services:</span></p><p class="c0"><span class="c4">&nbsp; network-example-service:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; image: karthequian/helloworld:latest</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; networks: </span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &nbsp; - my-shared-network</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; ...</span></p><p class="c0"><span class="c4">&nbsp; another-service-in-the-same-network:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; image: alpine:latest</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; networks: </span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &nbsp; - my-shared-network</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; ...</span></p><p class="c0"><span class="c4">&nbsp; another-service-in-its-own-network:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; image: alpine:latest</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; networks: </span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &nbsp; - my-private-network</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; ...</span></p><p class="c0"><span class="c4">networks:</span></p><p class="c0"><span class="c4">&nbsp; my-shared-network: {}</span></p><p class="c0"><span class="c4">&nbsp; my-private-network: {}</span></p></td></tr></table><p class="c11"><span>In this example, we can see that </span><span class="c1">another-service-in-the-same-network</span><span>&nbsp;will be able to ping and to reach port 80 of network-example-service, while </span><span class="c1">another-service-in-its-own-network</span><span class="c4">&nbsp;won&#39;t.</span></p><h3 class="c6" id="h.xktztitxtxrd"><span class="c22">Volumes</span></h3><p class="c3"><span>There are three types of volumes: </span><span class="c1">anonymous, named, and host</span><span class="c4">&nbsp;ones.</span></p><p class="c3"><span>Docker manages both anonymous and named volumes, automatically mounting them in self-generated directories in the host. While </span><span class="c1">anonymous</span><span>&nbsp;volumes were useful with older versions of Docker (pre 1.9), </span><span class="c1">named</span><span class="c4">&nbsp;ones are the suggested way to go nowadays. Host volumes also allow us to specify an existing folder in the host.</span></p><p class="c3"><span>We can configure </span><span class="c1">host</span><span>&nbsp;volumes at the service level and </span><span class="c1">named</span><span class="c4">&nbsp;volumes in the outer level of the configuration, in order to make the latter visible to other containers and not only to the one they belong:</span></p><a id="t.c170fc08edcf508e62be867946d8083264bb0d67"></a><a id="t.11"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">services:</span></p><p class="c0"><span class="c4">&nbsp; volumes-example-service:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; image: alpine:latest</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; volumes: </span></p><p class="c0"><span>&nbsp; &nbsp; &nbsp; - </span><span class="c1">my-named-global-volume</span><span class="c4">:/my-volumes/named-global-volume</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &nbsp; - /tmp:/my-volumes/host-volume</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &nbsp; - /home:/my-volumes/readonly-host-volume:ro</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; ...</span></p><p class="c0"><span class="c4">&nbsp; another-volumes-example-service:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; image: alpine:latest</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; volumes:</span></p><p class="c0"><span>&nbsp; &nbsp; &nbsp; - </span><span class="c1">my-named-global-volume</span><span class="c4">:/another-path/the-same-named-global-volume</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; ...</span></p><p class="c0"><span class="c4">volumes:</span></p><p class="c0"><span>&nbsp; </span><span class="c1">my-named-global-volume</span><span class="c4">: </span></p></td></tr></table><p class="c35"><span>Here, both containers will have read/write access to the </span><span class="c1">my-named-global-volume</span><span>&nbsp;shared folder, no matter the different paths they&#39;ve mapped it to. The two host volumes, instead, will be available only to </span><span class="c1">volumes-example-service</span><span class="c4">.</span></p><p class="c35"><span class="c4">The /tmp folder of the host&#39;s file system is mapped to the /my-volumes/host-volume folder of the container.</span></p><p class="c35"><span class="c4">This portion of the file system is writeable, which means that the container can not only read but also write (and delete) files in the host machine.</span></p><p class="c35"><span class="c4">We can mount a volume in read-only mode by appending :ro to the rule, like for the /home folder (we don&#39;t want a Docker container erasing our users by mistake).</span></p><h3 class="c37" id="h.blhajg5kew60"><span class="c22">Declaring Dependencies</span></h3><p class="c11"><span>Often, we need to create a dependency chain between our services, so that some services get loaded before (and unloaded after) other ones. We can achieve this result through the </span><span class="c1">depends_on</span><span class="c4">&nbsp;keyword:</span></p><a id="t.4b5b061747f9562ce8c131e648b8a244a5a75ac7"></a><a id="t.12"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">services:</span></p><p class="c0"><span class="c4">&nbsp; kafka:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; image: wurstmeister/kafka:2.11-0.11.0.3</span></p><p class="c0"><span>&nbsp; &nbsp; </span><span class="c1">depends_on</span><span class="c4">:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &nbsp; - zookeeper</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; ...</span></p><p class="c0"><span class="c4">&nbsp; zookeeper:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; image: wurstmeister/zookeeper</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; ...</span></p></td></tr></table><h3 class="c11 c38" id="h.jchmok61ssxm"><span class="c22">Environment Variables</span></h3><p class="c3"><span class="c4">Working with environment variables is easy in Compose. We can define static environment variables, and also define dynamic variables with the ${} notation:</span></p><a id="t.16198afa4c864ce9b8692ecbd4aefbaf7f5ae2e0"></a><a id="t.13"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">services:</span></p><p class="c0"><span class="c4">&nbsp; database: </span></p><p class="c0"><span class="c4">&nbsp; &nbsp; image: &quot;postgres:${POSTGRES_VERSION}&quot;</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; environment:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &nbsp; DB: mydb</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &nbsp; USER: &quot;${USER}&quot;</span></p></td></tr></table><p class="c11"><span class="c4">There are different methods to provide those values to Compose.</span></p><p class="c3"><span class="c4">For example, one is setting them in a .env file in the same directory, structured like a .properties file, key=value:</span></p><a id="t.8054a7e59fafc3828a117254a74905c431b40d6a"></a><a id="t.14"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">POSTGRES_VERSION=alpine</span></p><p class="c0"><span class="c4">USER=foo</span></p></td></tr></table><p class="c11"><span class="c4">Otherwise, we can set them in the OS before calling the command:</span></p><a id="t.caa89514c0fc2937a4be9d560ef473adc55dafa4"></a><a id="t.15"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">export POSTGRES_VERSION=alpine</span></p><p class="c0"><span class="c4">export USER=foo</span></p><p class="c0"><span class="c1 c24">docker-compose up</span></p></td></tr></table><p class="c11"><span class="c4">Finally, we might find handy using a simple one-liner in the shell:</span></p><a id="t.2e3bc9154272c745e7f514ad66ad00ca78a65b20"></a><a id="t.16"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span>POSTGRES_VERSION=alpine USER=foo </span><span class="c24 c1">docker-compose up</span></p></td></tr></table><h3 class="c6" id="h.cv266cshg7ei"><span class="c22">Startup and Shutdown</span></h3><p class="c11"><span class="c1">Create and start the containers, the networks, and the volumes</span><span class="c4">&nbsp;defined in the configuration with up:</span></p><a id="t.d71d729daed252716dd01781c7e4907ea454c09b"></a><a id="t.17"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">docker-compose up</span></p></td></tr></table><p class="c11"><span>After the first time, however, we can simply use start to </span><span class="c1">start the services</span><span class="c4">:</span></p><a id="t.e4b25cfdb1bfd8fea9209cb533cd31898f8c3909"></a><a id="t.18"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">docker-compose start</span></p></td></tr></table><p class="c11"><span>To safely stop the active services, we can use stop, which will </span><span class="c1">preserve containers, volumes, and networks</span><span class="c4">, along with every modification made to them:</span></p><a id="t.d454ae30b6c6e32038490e4458f4c45447cbc740"></a><a id="t.19"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">docker-compose stop</span></p></td></tr></table><p class="c11"><span>To reset the status of our project, instead, we simply run down, which will </span><span class="c1">destroy everything with only the exception of external volumes</span><span class="c4">:</span></p><a id="t.aec0edf33f52f296040bd77f9a14617c76b24cf9"></a><a id="t.20"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">docker-compose down</span></p></td></tr></table><h2 class="c28" id="h.cm9yx9d4k4gv"><span class="c23">Kubernetes</span></h2><p class="c3"><span class="c4">Kubernetes is a portable, extensible, open-source platform for managing containerized workloads and services, that facilitates both declarative configuration and automation. It has a large, rapidly growing ecosystem.</span></p><p class="c3"><span class="c4">Kubernetes provides you with:</span></p><ul class="c13 lst-kix_haja03ewxrws-0 start"><li class="c3 c5 li-bullet-0"><span class="c1">Service discovery and load balancing</span><span class="c4">: Kubernetes can expose a container using the DNS name or using their own IP address. If traffic to a container is high, Kubernetes is able to load balance and distribute the network traffic so that the deployment is stable.</span></li><li class="c3 c5 li-bullet-0"><span class="c1">Storage orchestration</span><span class="c4">: Kubernetes allows you to automatically mount a storage system of your choice, such as local storages, public cloud providers, and more.</span></li><li class="c3 c5 li-bullet-0"><span class="c1">Automated rollouts and rollbacks</span><span class="c4">: You can describe the desired state for your deployed containers using Kubernetes, and it can change the actual state to the desired state at a controlled rate. For example, you can automate Kubernetes to create new containers for your deployment, remove existing containers and adopt all their resources to the new container.</span></li><li class="c3 c5 li-bullet-0"><span class="c1">Automatic bin packing</span><span class="c4">: You provide Kubernetes with a cluster of nodes that it can use to run containerized tasks. You tell Kubernetes how much CPU and memory (RAM) each container needs. Kubernetes can fit containers onto your nodes to make the best use of your resources.</span></li><li class="c3 c5 li-bullet-0"><span class="c1">Self-healing</span><span class="c4">: Kubernetes restarts containers that fail, replaces containers, kills containers that don&#39;t respond to your user-defined health check, and doesn&#39;t advertise them to clients until they are ready to serve.</span></li><li class="c3 c5 li-bullet-0"><span class="c1">Secret and configuration management</span><span class="c4">: Kubernetes lets you store and manage sensitive information, such as passwords, OAuth tokens, and SSH keys. You can deploy and update secrets and application configuration without rebuilding your container images, and without exposing secrets in your stack configuration.</span></li></ul><h3 class="c6" id="h.c0ompto6ey3h"><span class="c22">Kubernetes is not</span></h3><p class="c3"><span class="c4">Kubernetes is not a traditional, all-inclusive PaaS (Platform as a Service) system. Since Kubernetes operates at the container level rather than at the hardware level, it provides some generally applicable features common to PaaS offerings, such as deployment, scaling, load balancing, and lets users integrate their logging, monitoring, and alerting solutions. However, Kubernetes is not monolithic, and these default solutions are optional and pluggable. Kubernetes provides the building blocks for building developer platforms, but preserves user choice and flexibility where it is important.</span></p><ul class="c13 lst-kix_quia5hp1h2l5-0 start"><li class="c3 c5 li-bullet-0"><span class="c4">Does not limit the types of applications supported. </span></li><li class="c3 c5 li-bullet-0"><span class="c4">Does not deploy source code and does not build your application</span></li><li class="c3 c5 li-bullet-0"><span class="c4">Does not provide application-level services, such as middleware (for example, message buses), data-processing frameworks (for example, Spark), databases (for example, MySQL), caches, nor cluster storage systems (for example, Ceph) as built-in services. </span></li><li class="c3 c5 li-bullet-0"><span class="c4">Does not dictate logging, monitoring, or alerting solutions. </span></li><li class="c3 c5 li-bullet-0"><span class="c4">Does not provide nor mandate a configuration language/system (for example, Jsonnet). It provides a declarative API that may be targeted by arbitrary forms of declarative specifications.</span></li><li class="c3 c5 li-bullet-0"><span class="c4">Does not provide nor adopt any comprehensive machine configuration, maintenance, management, or self-healing systems.</span></li><li class="c3 c5 li-bullet-0"><span class="c4">Additionally, Kubernetes is not a mere orchestration system. In fact, it eliminates the need for orchestration. The technical definition of orchestration is execution of a defined workflow: first do A, then B, then C. In contrast, Kubernetes comprises a set of independent, composable control processes that continuously drive the current state towards the provided desired state. It shouldn&#39;t matter how you get from A to C. Centralized control is also not required. This results in a system that is easier to use and more powerful, robust, resilient, and extensible.</span></li></ul><h3 class="c6" id="h.upwhmnkwcqk5"><span class="c22">Kubernetes Components</span></h3><p class="c3"><span>When you deploy Kubernetes, you get a </span><span class="c1">cluster</span><span class="c4">.</span></p><p class="c3"><span>A Kubernetes cluster consists of a set of </span><span class="c1">worker machines, called nodes</span><span class="c4">, that run containerized applications. Every cluster has at least one worker node.</span></p><p class="c3"><span>The worker node(s) host the </span><span class="c1">Pods that are the components of the application workload</span><span class="c4">. The control plane manages the worker nodes and the Pods in the cluster. In production environments, the control plane usually runs across multiple computers and a cluster usually runs multiple nodes, providing fault-tolerance and high availability.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 710.50px; height: 331.34px;"><img alt="" src="images/image4.png" style="width: 710.50px; height: 331.34px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h4 class="c9" id="h.etzvrwrbitbe"><span class="c10">Control plane components</span></h4><p class="c3"><span>The </span><span class="c1">control plane&#39;s</span><span>&nbsp;components make </span><span class="c1">global decisions about the cluster</span><span>&nbsp;(for example, scheduling), as well as </span><span class="c1">detecting and responding to cluster events</span><span class="c4">&nbsp;(for example, starting up a new pod when a deployment&#39;s replicas field is unsatisfied).</span></p><p class="c3"><span class="c4">Control plane components can be run on any machine in the cluster. However, for simplicity, set up scripts typically start all control plane components on the same machine, and do not run user containers on this machine. See Creating Highly Available clusters with kubeadm for an example control plane setup that runs across multiple VMs.</span></p><h5 class="c32" id="h.wwrihrakc0zf"><span class="c16">kube-apiserver</span></h5><p class="c3"><span>The API server is a component of the Kubernetes control plane that exposes the Kubernetes API. The API server is the </span><span class="c1">front end for the Kubernetes control plane</span><span class="c4">.</span></p><p class="c3"><span>The main implementation of a Kubernetes API server is kube-apiserver. kube-apiserver is designed to </span><span class="c1">scale horizontally</span><span>&nbsp;- </span><span class="c4">that is, it scales by deploying more instances. You can run several instances of kube-apiserver and balance traffic between those instances.</span></p><h5 class="c27" id="h.8x5ffahwtp9q"><span class="c16">etcd</span></h5><p class="c3"><span>Consistent and highly-available </span><span class="c1">key value store</span><span>&nbsp;used as Kubernetes&#39; </span><span class="c1">backing store for all cluster data</span><span class="c4">.</span></p><p class="c3"><span class="c4">If your Kubernetes cluster uses etcd as its backing store, make sure you have a back up plan for that data.</span></p><p class="c3"><span class="c4">You can find in-depth information about etcd in the official documentation.</span></p><h5 class="c27" id="h.ttmfovxjmajs"><span class="c16">kube-scheduler</span></h5><p class="c3"><span class="c4">Control plane component that watches for newly created Pods with no assigned node, and selects a node for them to run on.</span></p><p class="c3"><span class="c4">Factors taken into account for scheduling decisions include: individual and collective resource requirements, hardware/software/policy constraints, affinity and anti-affinity specifications, data locality, inter-workload interference, and deadlines.</span></p><h5 class="c27" id="h.8y5zccwb7d2d"><span class="c16">kube-controller-manager</span></h5><p class="c3"><span>Control plane component that </span><span class="c1">runs controller processes</span><span class="c4">.</span></p><p class="c3"><span class="c4">Logically, each controller is a separate process, but to reduce complexity, they are all compiled into a single binary and run in a single process.</span></p><p class="c3"><span class="c4">Some types of these controllers are:</span></p><ul class="c13 lst-kix_wj8ppb1qev0y-0 start"><li class="c3 c5 li-bullet-0"><span class="c4">Node controller: Responsible for noticing and responding when nodes go down.</span></li><li class="c3 c5 li-bullet-0"><span class="c4">Job controller: Watches for Job objects that represent one-off tasks, then creates Pods to run those tasks to completion.</span></li><li class="c3 c5 li-bullet-0"><span class="c4">Endpoints controller: Populates the Endpoints object (that is, joins Services &amp; Pods).</span></li><li class="c3 c5 li-bullet-0"><span class="c4">Service Account &amp; Token controllers: Create default accounts and API access tokens for new namespaces.</span></li></ul><h5 class="c27" id="h.uibpn72jzlri"><span class="c16">cloud-controller-manager</span></h5><p class="c3"><span class="c4">A Kubernetes control plane component that embeds cloud-specific control logic. The cloud controller manager lets you link your cluster into your cloud provider&#39;s API, and separates out the components that interact with that cloud platform from components that only interact with your cluster.</span></p><p class="c3"><span class="c4">The cloud-controller-manager only runs controllers that are specific to your cloud provider. If you are running Kubernetes on your own premises, or in a learning environment inside your own PC, the cluster does not have a cloud controller manager.</span></p><h4 class="c9" id="h.yntpum6kaaw5"><span class="c10">Node components</span></h4><p class="c3"><span class="c4">Node components run on every node, maintaining running pods and providing the Kubernetes runtime environment.</span></p><h5 class="c27" id="h.bekgv02c5rkb"><span class="c16">kubelet</span></h5><p class="c3"><span>An </span><span class="c1">agent</span><span class="c4">&nbsp;that runs on each node in the cluster. It makes sure that containers are running in a Pod.</span></p><p class="c3"><span>The kubelet takes a set of PodSpecs that are provided through various mechanisms and ensures that the </span><span class="c1">containers described in those PodSpecs are running and healthy</span><span class="c4">. The kubelet doesn&#39;t manage containers which were not created by Kubernetes.</span></p><h5 class="c27" id="h.r59groqifoun"><span class="c16">kube-proxy</span></h5><p class="c3"><span>kube-proxy is a </span><span class="c1">network proxy</span><span>&nbsp;that runs on each node in your cluster, implementing part of the Kubernetes </span><span class="c1">Service concept</span><span class="c4">.</span></p><p class="c3"><span class="c4">kube-proxy maintains network rules on nodes. These network rules allow network communication to your Pods from network sessions inside or outside of your cluster.</span></p><p class="c3"><span class="c4">kube-proxy uses the operating system packet filtering layer if there is one and it&#39;s available. Otherwise, kube-proxy forwards the traffic itself.</span></p><h5 class="c27" id="h.tapvvgymkikk"><span class="c16">Container runtime</span></h5><p class="c3"><span class="c4">The container runtime is the software that is responsible for running containers.</span></p><p class="c3"><span class="c4">Kubernetes supports several container runtimes: Docker, containerd, CRI-O, and any implementation of the Kubernetes CRI (Container Runtime Interface).</span></p><h4 class="c9" id="h.mth8i6fofp08"><span class="c10">Addons</span></h4><p class="c3"><span class="c4">Addons use Kubernetes resources (DaemonSet, Deployment, etc) to implement cluster features. Because these are providing cluster-level features, namespaced resources for addons belong within the kube-system namespace.</span></p><h5 class="c27" id="h.nylx5w31iste"><span class="c16">DNS</span></h5><p class="c3"><span>While the other addons are not strictly required, </span><span class="c1">all Kubernetes clusters should have cluster DNS</span><span class="c4">, as many examples rely on it.</span></p><p class="c3"><span>Cluster DNS is a DNS server, in addition to the other DNS server(s) in your environment, which </span><span class="c1">serves DNS records for Kubernetes services</span><span class="c4">.</span></p><p class="c3"><span class="c4">Containers started by Kubernetes automatically include this DNS server in their DNS searches.</span></p><h5 class="c27" id="h.5enrq3x5p5zu"><span class="c16">Web UI (Dashboard)</span></h5><p class="c3"><span class="c4">Dashboard is a general purpose, web-based UI for Kubernetes clusters. It allows users to manage and troubleshoot applications running in the cluster, as well as the cluster itself.</span></p><h5 class="c27" id="h.sdoq54mxj2bq"><span class="c16">Container Resource Monitoring</span></h5><p class="c3"><span class="c4">Container Resource Monitoring records generic time-series metrics about containers in a central database, and provides a UI for browsing that data.</span></p><h5 class="c27" id="h.5awmj6aik9pn"><span class="c16">Cluster-level Logging</span></h5><p class="c3"><span class="c4">A cluster-level logging mechanism is responsible for saving container logs to a central log store with search/browsing interface.</span></p><h3 class="c6" id="h.ndkdwjh2goxs"><span class="c22">Cluster architecture</span></h3><h4 class="c9" id="h.s7oeo5b85ghz"><span class="c10">Nodes</span></h4><p class="c3"><span>Kubernetes runs your workload by </span><span class="c1">placing containers into Pods to run on Nodes</span><span>. A node may be a </span><span class="c1">virtual or physical machine</span><span class="c4">, depending on the cluster. Each node is managed by the control plane and contains the services necessary to run Pods.</span></p><p class="c34"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 515.50px; height: 428.87px;"><img alt="" src="images/image7.png" style="width: 515.50px; height: 428.87px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c4">Typically you have several nodes in a cluster; in a learning or resource-limited environment, you might have only one node.</span></p><p class="c3"><span class="c4">The components on a node include the kubelet, a container runtime, and the kube-proxy.</span></p><p class="c3"><span class="c4">There are two main ways to have Nodes added to the API server:</span></p><ul class="c13 lst-kix_bj2u8p5tnj95-0 start"><li class="c3 c5 li-bullet-0"><span class="c4">The kubelet on a node self-registers to the control plane</span></li><li class="c3 c5 li-bullet-0"><span class="c4">You (or another human user) manually add a Node object</span></li></ul><a id="t.8e5b65176755e09266c1498011bf68853a96c319"></a><a id="t.21"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">{</span></p><p class="c0"><span class="c4">&nbsp; &quot;kind&quot;: &quot;Node&quot;,</span></p><p class="c0"><span class="c4">&nbsp; &quot;apiVersion&quot;: &quot;v1&quot;,</span></p><p class="c0"><span class="c4">&nbsp; &quot;metadata&quot;: {</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &quot;name&quot;: &quot;10.240.79.157&quot;,</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &quot;labels&quot;: {</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &nbsp; &quot;name&quot;: &quot;my-first-k8s-node&quot;</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c4">&nbsp; }</span></p><p class="c0"><span class="c4">}</span></p></td></tr></table><p class="c11"><span class="c4">Kubernetes creates a Node object internally (the representation). Kubernetes checks that a kubelet has registered to the API server that matches the metadata.name field of the Node. If the node is healthy (i.e. all necessary services are running), then it is eligible to run a Pod. Otherwise, that node is ignored for any cluster activity until it becomes healthy.</span></p><p class="c3"><span class="c4">The name identifies a Node. Two Nodes cannot have the same name at the same time. Kubernetes also assumes that a resource with the same name is the same object. In case of a Node, it is implicitly assumed that an instance using the same name will have the same state (e.g. network settings, root disk contents). This may lead to inconsistencies if an instance was modified without changing its name. If the Node needs to be replaced or updated significantly, the existing Node object needs to be removed from API server first and re-added after the update.</span></p><h4 class="c9" id="h.p5i0jtu1cgb4"><span class="c10">Pods</span></h4><p class="c3"><span>A Pod is a </span><span class="c1">group of one or more application containers</span><span>&nbsp;(such as Docker or rkt) that includes </span><span class="c1">shared storage</span><span>&nbsp;(volumes), a </span><span class="c1">unique cluster IP address</span><span>&nbsp;and information about how to run them (like container image version or specific ports). </span><span class="c1">Containers within a Pod share an IP Address and port space</span><span>. Containers of the same Pod are always co-located and co-scheduled, and run in a shared context on the same node. A Pod models an application-specific &ldquo;</span><span class="c1">logical host</span><span class="c4">&rdquo; and contains one or more application containers which are relatively tightly coupled. An example of container that would fit on the same Pod with our the NodeJS app, would be a side container that feeds the data published by the webserver. In a pre-container world, they would have run on the same physical or virtual machine.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 720.00px; height: 233.33px;"><img alt="" src="images/image6.png" style="width: 720.00px; height: 233.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span>Pods are tied to the Node where they are deployed and remain there until termination (according to restart policy) or deletion. In case of a Node failure, new identical Pods will be deployed on other available Nodes. </span><span class="c1">The Pod is the atomic deployment unit on the Kubernetes platform</span><span class="c4">. When we trigger a Deployment on Kubernetes, it will create Pods with containers inside them, not containers directly.</span></p><p class="c3"><span class="c1">Benefits of a pod</span><span>: when pods contain multiple containers, communications, and data sharing between them is simplified. Since all containers in a pod </span><span class="c1">share the same network namespace</span><span class="c4">, they can locate each other and communicate via localhost. Pods can communicate with each other by using another pods IP address or by referencing a resource that resides in another pod.</span></p><p class="c3"><span class="c4">Pods can include containers that run when the pod is started, say to perform initiation required before the application containers run. Additionally, pods simplify scalability, enabling replica pods to be created and shut down automatically based on changes in demand.</span></p><h4 class="c9" id="h.c2x37snzlcko"><span class="c10">Services</span></h4><p class="c3"><span class="c4">An abstract way to expose an application running on a set of Pods as a network service.</span></p><p class="c3"><span>While Pods do have their own unique IP across the cluster, those IP&rsquo;s </span><span class="c1">are not exposed outside Kubernetes</span><span>. Taking into account that over time Pods may be terminated, deleted or replaced by other Pods, we need a way to let other Pods and applications automatically </span><span class="c1">discover each other</span><span>. Kubernetes addresses this by grouping Pods in Services. A Kubernetes Service is an abstraction layer which defines a </span><span class="c1">logical set of Pods</span><span>&nbsp;and enables </span><span class="c1">external traffic exposure, load balancing and service discovery</span><span class="c4">&nbsp;for those Pods.</span></p><p class="c3"><span class="c1">With Kubernetes you don&#39;t need to modify your application to use an unfamiliar service discovery mechanism</span><span class="c4">. Kubernetes gives Pods their own IP addresses and a single DNS name for a set of Pods, and can load-balance across them.</span></p><p class="c34"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 681.50px; height: 287.74px;"><img alt="" src="images/image1.png" style="width: 681.50px; height: 287.74px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c4">This abstraction will allow us to expose Pods to traffic originating from outside the cluster. Services have their own unique cluster-private IP address and expose a port to receive traffic. If you choose to expose the service outside the cluster, the options are:</span></p><ul class="c13 lst-kix_icj2abmwolb-0 start"><li class="c3 c5 li-bullet-0"><span class="c1">LoadBalancer</span><span class="c4">&nbsp;- provides a public IP address (what you would typically use when you run Kubernetes on GKE or AWS)</span></li><li class="c3 c5 li-bullet-0"><span class="c1">NodePort</span><span class="c4">&nbsp;- exposes the Service on the same port on each Node of the cluster using NAT (available on all Kubernetes clusters, and in Minikube)</span></li></ul><p class="c3"><span class="c4">A Service in Kubernetes is a REST object, similar to a Pod:</span></p><a id="t.4d6072305d97c74aa34b480028b610ce18ca2e6a"></a><a id="t.22"></a><table class="c15"><tr class="c25"><td class="c20" colspan="1" rowspan="1"><p class="c0"><span class="c4">apiVersion: v1</span></p><p class="c0"><span class="c4">kind: Service</span></p><p class="c0"><span class="c4">metadata:</span></p><p class="c0"><span class="c4">&nbsp; name: my-service</span></p><p class="c0"><span class="c4">spec:</span></p><p class="c0"><span class="c4">&nbsp; selector:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; app: MyApp</span></p><p class="c0"><span class="c4">&nbsp; ports:</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; - protocol: TCP</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &nbsp; port: 80</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &nbsp; targetPort: 9376</span></p></td></tr></table><p class="c11"><span class="c4">This specification creates a new Service object named &quot;my-service&quot;, which targets TCP port 9376 on any Pod with the app=MyApp label.</span></p><p class="c3 c18"><span class="c4"></span></p><p class="c3 c18"><span class="c4"></span></p><p class="c3 c18"><span class="c4"></span></p></body></html>